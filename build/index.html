<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Falkonry Integrator API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;csharp&quot;,&quot;java&quot;,&quot;python&quot;,&quot;shell&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="csharp">csharp</a>
              <a href="#" data-language-name="java">java</a>
              <a href="#" data-language-name="python">python</a>
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://falkonry.com/contact'>Provision a Falkonry Professional account</a></li>
            <li><a href='https://help.falkonry.com'>Falkonry Help Documentation</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="falkonry-integrator-sdks">Falkonry Integrator SDKs</h1>

<p>Welcome to the Falkonry Integrator API! You can use our API to create, ingest and extract information from various datastreams, assessments, and facts (ground truths). The API also allows the user to generate output for historical data, set/ get metadata for entities as well as toggle datastreams on/ off.</p>

<p>We have language bindings in Shell, Java, C# and Python! You can view code examples in the dark area to the right, and you can switch the programming language of the examples with the tabs in the top right.</p>

<h1 id="authentication">Authentication</h1>

<p>Falkonry uses API tokens to allow access to the API. Once you are provisioned an account with Falkonry Services, you can create a token, by clicking on Account, followed by Integration. Add some text where it says &ldquo;Name your authorization token&rdquo; and clicking on &ldquo;Add Token&rdquo;. This should create a corresponding token. Copy this token for making any API calls.</p>

<aside class="notice">
Make sure not to publish your API tokens
</aside>

<h1 id="datastreams">Datastreams</h1>

<p>This creates a datastream.</p>

<p>A Datastream is the basic building block for pattern recognition used in Falkonry. A Datastream is associated with a set of Signals (that it consumes as input), a set of Entities, and a set of Assessments that convey the output of the Datastream.</p>

<p>A Datastream can consume a History Window of signal data and Facts that lie within the window to facilitate the learning of Models.</p>

<p>At any time one model can be designated as “Active”. If the Datastream is turned on with an active model, signal data streamed into the Datastreams will produce a live output stream of assessment results.</p>

<aside class="success">
Remember — a datastream is your basic building block! 
</aside>

<h2 id="create-datastream-for-narrow-historian-style-data-from-a-single-entity">Create Datastream for narrow/historian style data from a single entity</h2>

<blockquote>
<p>To create a datastream for narrow/historian style data from a single entity, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

  <span class="kt">var</span> <span class="n">time</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Time</span><span class="p">();</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Zone</span> <span class="p">=</span> <span class="s">"GMT"</span><span class="p">;</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Identifier</span> <span class="p">=</span> <span class="s">"time"</span><span class="p">;</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Format</span> <span class="p">=</span> <span class="s">"iso_8601"</span><span class="p">;</span>

  <span class="kt">var</span> <span class="n">datasource</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Datasource</span><span class="p">();</span>
  <span class="n">datasource</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"PI"</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">ds</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DatastreamRequest</span><span class="p">();</span>
  <span class="kt">var</span> <span class="n">Field</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Field</span><span class="p">();</span>
  <span class="kt">var</span> <span class="n">Signal</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Signal</span><span class="p">();</span>
  <span class="n">Signal</span><span class="p">.</span><span class="n">ValueIdentifier</span> <span class="p">=</span> <span class="s">"value"</span><span class="p">;</span>
  <span class="n">Signal</span><span class="p">.</span><span class="n">TagIdentifier</span> <span class="p">=</span> <span class="s">"tag"</span><span class="p">;</span>
  <span class="n">Signal</span><span class="p">.</span><span class="n">IsSignalPrefix</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
  <span class="n">Field</span><span class="p">.</span><span class="n">Signal</span> <span class="p">=</span> <span class="n">Signal</span><span class="p">;</span>
  <span class="n">Field</span><span class="p">.</span><span class="n">Time</span> <span class="p">=</span> <span class="n">time</span><span class="p">;</span>
  <span class="n">ds</span><span class="p">.</span><span class="n">Field</span> <span class="p">=</span> <span class="n">Field</span><span class="p">;</span>
  <span class="n">ds</span><span class="p">.</span><span class="n">DataSource</span> <span class="p">=</span> <span class="n">datasource</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">rnd</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="nf">Random</span><span class="p">();</span>
  <span class="kt">var</span> <span class="n">randomNumber</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Convert</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="n">rnd</span><span class="p">.</span><span class="nf">Next</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">10000</span><span class="p">));</span>
  <span class="n">ds</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"TestDS"</span> <span class="p">+</span> <span class="n">randomNumber</span><span class="p">;</span>
  <span class="n">ds</span><span class="p">.</span><span class="n">Field</span><span class="p">.</span><span class="n">Time</span> <span class="p">=</span> <span class="n">time</span><span class="p">;</span>
  <span class="n">ds</span><span class="p">.</span><span class="n">DataSource</span> <span class="p">=</span> <span class="n">datasource</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">datastream</span> <span class="p">=</span> <span class="n">_falkonry</span><span class="p">.</span><span class="nf">CreateDatastream</span><span class="p">(</span><span class="n">ds</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datasource</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datastream</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Field</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.TimeObject</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Signal</span><span class="o">;</span>

  <span class="c1">//instantiate Falkonry</span>
  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>
  <span class="n">Datastream</span> <span class="n">ds</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Datastream</span><span class="o">();</span>
  <span class="n">ds</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Test-DS-"</span> <span class="o">+</span> <span class="n">Math</span><span class="o">.</span><span class="na">random</span><span class="o">());</span>

  <span class="n">TimeObject</span> <span class="n">time</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TimeObject</span><span class="o">();</span>
  <span class="n">time</span><span class="o">.</span><span class="na">setIdentifier</span><span class="o">(</span><span class="s">"time"</span><span class="o">);</span>
  <span class="n">time</span><span class="o">.</span><span class="na">setFormat</span><span class="o">(</span><span class="s">"iso_8601"</span><span class="o">);</span>
  <span class="n">time</span><span class="o">.</span><span class="na">setZone</span><span class="o">(</span><span class="s">"GMT"</span><span class="o">);</span>

  <span class="n">Signal</span> <span class="n">signal</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Signal</span><span class="o">();</span>
  <span class="n">signal</span><span class="o">.</span><span class="na">setTagIdentifier</span><span class="o">(</span><span class="s">"tag"</span><span class="o">);</span>
  <span class="n">signal</span><span class="o">.</span><span class="na">setValueIdentifier</span><span class="o">(</span><span class="s">"value"</span><span class="o">);</span>
  <span class="n">signal</span><span class="o">.</span><span class="na">setDelimiter</span><span class="o">(</span><span class="s">"_"</span><span class="o">);</span>
  <span class="n">signal</span><span class="o">.</span><span class="na">setIsSignalPrefix</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

  <span class="n">Datasource</span> <span class="n">dataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Datasource</span><span class="o">();</span>
  <span class="n">dataSource</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"STANDALONE"</span><span class="o">);</span>

  <span class="n">Field</span> <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Field</span><span class="o">();</span>
  <span class="n">field</span><span class="o">.</span><span class="na">setSiganl</span><span class="o">(</span><span class="n">signal</span><span class="o">);</span>
  <span class="n">field</span><span class="o">.</span><span class="na">setTime</span><span class="o">(</span><span class="n">time</span><span class="o">);</span>

  <span class="n">ds</span><span class="o">.</span><span class="na">setDatasource</span><span class="o">(</span><span class="n">dataSource</span><span class="o">);</span>
  <span class="n">ds</span><span class="o">.</span><span class="na">setField</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>

  <span class="n">Datastream</span> <span class="n">datastream</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">createDatastream</span><span class="o">(</span><span class="n">ds</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>
<span class="n">datastream</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Datastream</span><span class="p">()</span>
<span class="n">datasource</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Datasource</span><span class="p">()</span>
<span class="n">field</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
<span class="n">time</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Time</span><span class="p">()</span>
<span class="n">signal</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Signal</span><span class="p">()</span>

<span class="n">datastream</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">'Motor Health'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()))</span>  <span class="c"># set name of the Datastream</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_zone</span><span class="p">(</span><span class="s">"GMT"</span><span class="p">)</span>                                        <span class="c"># set timezone of the datastream</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_identifier</span><span class="p">(</span><span class="s">"time"</span><span class="p">)</span>                                 <span class="c"># set time identifier of the datastream</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_format</span><span class="p">(</span><span class="s">"iso_8601"</span><span class="p">)</span>                                 <span class="c"># set time format of the datastream</span>
<span class="n">field</span><span class="o">.</span><span class="n">set_time</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>            
<span class="n">signal</span><span class="o">.</span><span class="n">set_delimiter</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>                                  <span class="c"># set delimiter to None </span>
<span class="n">signal</span><span class="o">.</span><span class="n">set_tagIdentifier</span><span class="p">(</span><span class="s">"tag"</span><span class="p">)</span>                             <span class="c"># set tag identifier</span>
<span class="n">signal</span><span class="o">.</span><span class="n">set_valueIdentifier</span><span class="p">(</span><span class="s">"value"</span><span class="p">)</span>                         <span class="c"># set value identifier</span>
<span class="n">signal</span><span class="o">.</span><span class="n">set_isSignalPrefix</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>                            <span class="c"># as this is single entity, set signal prefix flag to false</span>
<span class="n">field</span><span class="o">.</span><span class="n">set_signal</span><span class="p">(</span><span class="n">signal</span><span class="p">)</span>                                    <span class="c"># set signal in field</span>
<span class="n">datasource</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="s">"STANDALONE"</span><span class="p">)</span>                           <span class="c"># set datastource type in datastream</span>
<span class="n">datastream</span><span class="o">.</span><span class="n">set_datasource</span><span class="p">(</span><span class="n">datasource</span><span class="p">)</span>
<span class="n">datastream</span><span class="o">.</span><span class="n">set_field</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>

<span class="c">#create Datastream</span>
<span class="n">createdDatastream</span> <span class="o">=</span> <span class="n">fclient</span><span class="o">.</span><span class="n">create_datastream</span><span class="p">(</span><span class="n">datastream</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<p>Wide and narrow (sometimes un-stacked and stacked) are terms used to describe two different presentations for tabular data.
Here, we create a datastream and set it up with narrow style data for a single entity or element.</p>

<h3 id="sample-format-for-narrow-historian-style">Sample format for narrow/historian style</h3>

<table><thead>
<tr>
<th>Person</th>
<th>Variable</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Bob</td>
<td>Age</td>
<td>32</td>
</tr>
<tr>
<td>Bob</td>
<td>Weight</td>
<td>128</td>
</tr>
<tr>
<td>Alice</td>
<td>Age</td>
<td>24</td>
</tr>
<tr>
<td>Alice</td>
<td>Weight</td>
<td>86</td>
</tr>
<tr>
<td>Steve</td>
<td>Age</td>
<td>64</td>
</tr>
<tr>
<td>Steve</td>
<td>Weight</td>
<td>95</td>
</tr>
</tbody></table>

<aside class="warning">
Structuring data as key-value pairs — as is done in narrow-form datasets — facilitates conceptual clarity. 
</aside>

<blockquote>
<p>Input data could be of the following format:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w"> </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:01"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">3.4</span><span class="p">}</span><span class="w">
 </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:02"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.3</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id="setup-datastream-for-narrow-historian-style-data-from-multiple-entities">Setup datastream for narrow/historian style data from multiple entities</h2>

<blockquote>
<p>To setup a datastream using narrow style data for multiple entities, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

  <span class="kt">var</span> <span class="n">time</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Time</span><span class="p">();</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Zone</span> <span class="p">=</span> <span class="s">"GMT"</span><span class="p">;</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Identifier</span> <span class="p">=</span> <span class="s">"time"</span><span class="p">;</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Format</span> <span class="p">=</span> <span class="s">"iso_8601"</span><span class="p">;</span>

  <span class="kt">var</span> <span class="n">datasource</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Datasource</span><span class="p">();</span>
  <span class="n">datasource</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"PI"</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">ds</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DatastreamRequest</span><span class="p">();</span>
  <span class="kt">var</span> <span class="n">Field</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Field</span><span class="p">();</span>
  <span class="kt">var</span> <span class="n">Signal</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Signal</span><span class="p">();</span>
  <span class="n">Signal</span><span class="p">.</span><span class="n">ValueIdentifier</span> <span class="p">=</span> <span class="s">"value"</span><span class="p">;</span>
  <span class="n">Signal</span><span class="p">.</span><span class="n">TagIdentifier</span> <span class="p">=</span> <span class="s">"tag"</span><span class="p">;</span>
  <span class="n">Signal</span><span class="p">.</span><span class="n">IsSignalPrefix</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
  <span class="n">Signal</span><span class="p">.</span><span class="n">Delimiter</span> <span class="p">=</span> <span class="s">"_"</span><span class="p">;</span>
  <span class="n">Field</span><span class="p">.</span><span class="n">Signal</span> <span class="p">=</span> <span class="n">Signal</span><span class="p">;</span>
  <span class="n">Field</span><span class="p">.</span><span class="n">Time</span> <span class="p">=</span> <span class="n">time</span><span class="p">;</span>
  <span class="n">ds</span><span class="p">.</span><span class="n">Field</span> <span class="p">=</span> <span class="n">Field</span><span class="p">;</span>
  <span class="n">ds</span><span class="p">.</span><span class="n">DataSource</span> <span class="p">=</span> <span class="n">datasource</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">rnd</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="nf">Random</span><span class="p">();</span>
  <span class="kt">var</span> <span class="n">randomNumber</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Convert</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="n">rnd</span><span class="p">.</span><span class="nf">Next</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">10000</span><span class="p">));</span>
  <span class="n">ds</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"TestDS"</span> <span class="p">+</span> <span class="n">randomNumber</span><span class="p">;</span>
  <span class="n">ds</span><span class="p">.</span><span class="n">Field</span><span class="p">.</span><span class="n">Time</span> <span class="p">=</span> <span class="n">time</span><span class="p">;</span>
  <span class="n">ds</span><span class="p">.</span><span class="n">DataSource</span> <span class="p">=</span> <span class="n">datasource</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">datastream</span> <span class="p">=</span> <span class="n">_falkonry</span><span class="p">.</span><span class="nf">CreateDatastream</span><span class="p">(</span><span class="n">ds</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datasource</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datastream</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Field</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.TimeObject</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Signal</span><span class="o">;</span>

  <span class="c1">//instantiate Falkonry</span>
  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>


  <span class="n">Datastream</span> <span class="n">ds</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Datastream</span><span class="o">();</span>
  <span class="n">ds</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Test-DS-"</span> <span class="o">+</span> <span class="n">Math</span><span class="o">.</span><span class="na">random</span><span class="o">());</span>

  <span class="n">TimeObject</span> <span class="n">time</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TimeObject</span><span class="o">();</span>
  <span class="n">time</span><span class="o">.</span><span class="na">setIdentifier</span><span class="o">(</span><span class="s">"time"</span><span class="o">);</span>
  <span class="n">time</span><span class="o">.</span><span class="na">setFormat</span><span class="o">(</span><span class="s">"iso_8601"</span><span class="o">);</span>
  <span class="n">time</span><span class="o">.</span><span class="na">setZone</span><span class="o">(</span><span class="s">"GMT"</span><span class="o">);</span>

  <span class="n">Signal</span> <span class="n">signal</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Signal</span><span class="o">();</span>
  <span class="n">signal</span><span class="o">.</span><span class="na">setTagIdentifier</span><span class="o">(</span><span class="s">"tag"</span><span class="o">);</span>
  <span class="n">signal</span><span class="o">.</span><span class="na">setValueIdentifier</span><span class="o">(</span><span class="s">"value"</span><span class="o">);</span>
  <span class="n">signal</span><span class="o">.</span><span class="na">setDelimiter</span><span class="o">(</span><span class="s">"_"</span><span class="o">);</span>
  <span class="n">signal</span><span class="o">.</span><span class="na">setIsSignalPrefix</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

  <span class="n">Datasource</span> <span class="n">dataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Datasource</span><span class="o">();</span>
  <span class="n">dataSource</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"STANDALONE"</span><span class="o">);</span>

  <span class="n">Field</span> <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Field</span><span class="o">();</span>
  <span class="n">field</span><span class="o">.</span><span class="na">setSiganl</span><span class="o">(</span><span class="n">signal</span><span class="o">);</span>
  <span class="n">field</span><span class="o">.</span><span class="na">setTime</span><span class="o">(</span><span class="n">time</span><span class="o">);</span>

  <span class="n">ds</span><span class="o">.</span><span class="na">setDatasource</span><span class="o">(</span><span class="n">dataSource</span><span class="o">);</span>
  <span class="n">ds</span><span class="o">.</span><span class="na">setField</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>

  <span class="n">Datastream</span> <span class="n">datastream</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">createDatastream</span><span class="o">(</span><span class="n">ds</span><span class="o">);</span>


  <span class="c1">//Add data to datastream</span>
  <span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"{\"time\" : \"2016-03-01 01:01:01\", \"tag\" : \"signal1_entity1\", \"value\" : 3.4}"</span> <span class="o">+</span> <span class="s">"\n"</span>
      <span class="o">+</span> <span class="s">"{\"time\" : \"2016-03-01 01:01:01\", \"tag\" : \"signal2_entity1\", \"value\" : 1.4}"</span> <span class="o">+</span> <span class="s">"\n"</span>
      <span class="o">+</span> <span class="s">"{\"time\" : \"2016-03-01 01:01:02\", \"tag\" : \"signal1_entity1\", \"value\" : 9.3}"</span> <span class="o">+</span> <span class="s">"\n"</span>
      <span class="o">+</span> <span class="s">"{\"time\" : \"2016-03-01 01:01:02\", \"tag\" : \"signal2_entity2\", \"value\" : 4.3}"</span><span class="o">;</span>
  <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
  <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeIdentifier"</span><span class="o">,</span> <span class="s">"time"</span><span class="o">);</span>
  <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeFormat"</span><span class="o">,</span> <span class="s">"iso_8601"</span><span class="o">);</span>
  <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fileFormat"</span><span class="o">,</span> <span class="s">"csv"</span><span class="o">);</span>
  <span class="n">falkonry</span><span class="o">.</span><span class="na">addInput</span><span class="o">(</span><span class="n">datastream</span><span class="o">.</span><span class="na">getId</span><span class="o">(),</span> <span class="n">data</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>
<span class="n">datastream</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Datastream</span><span class="p">()</span>
<span class="n">datasource</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Datasource</span><span class="p">()</span>
<span class="n">field</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
<span class="n">time</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Time</span><span class="p">()</span>
<span class="n">signal</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Signal</span><span class="p">()</span>

<span class="n">datastream</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">'Motor Health'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()))</span>  <span class="c"># set name of the Datastream</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_zone</span><span class="p">(</span><span class="s">"GMT"</span><span class="p">)</span>                                        <span class="c"># set timezone of the datastream</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_identifier</span><span class="p">(</span><span class="s">"time"</span><span class="p">)</span>                                 <span class="c"># set time identifier of the datastream</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_format</span><span class="p">(</span><span class="s">"iso_8601"</span><span class="p">)</span>                                 <span class="c"># set time format of the datastream</span>
<span class="n">field</span><span class="o">.</span><span class="n">set_time</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>            
<span class="n">signal</span><span class="o">.</span><span class="n">set_delimiter</span><span class="p">(</span><span class="s">"_"</span><span class="p">)</span>                                   <span class="c"># set delimiter</span>
<span class="n">signal</span><span class="o">.</span><span class="n">set_tagIdentifier</span><span class="p">(</span><span class="s">"tag"</span><span class="p">)</span>                             <span class="c"># set tag identifier</span>
<span class="n">signal</span><span class="o">.</span><span class="n">set_valueIdentifier</span><span class="p">(</span><span class="s">"value"</span><span class="p">)</span>                         <span class="c"># set value identifier</span>
<span class="n">signal</span><span class="o">.</span><span class="n">set_isSignalPrefix</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>                             <span class="c"># set signal prefix flag</span>
<span class="n">field</span><span class="o">.</span><span class="n">set_signal</span><span class="p">(</span><span class="n">signal</span><span class="p">)</span>                                    <span class="c"># set signal in field</span>
<span class="n">datasource</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="s">"STANDALONE"</span><span class="p">)</span>                           <span class="c"># set datastource type in datastream</span>
<span class="n">datastream</span><span class="o">.</span><span class="n">set_datasource</span><span class="p">(</span><span class="n">datasource</span><span class="p">)</span>
<span class="n">datastream</span><span class="o">.</span><span class="n">set_field</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>

<span class="c">#create Datastream</span>
<span class="n">createdDatastream</span> <span class="o">=</span> <span class="n">fclient</span><span class="o">.</span><span class="n">create_datastream</span><span class="p">(</span><span class="n">datastream</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>Input data could be of the following format:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">
  </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:01"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal1_entity1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">3.4</span><span class="p">}</span><span class="w">
  </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:01"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal2_entity1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.4</span><span class="p">}</span><span class="w">
  </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:02"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal1_entity2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.3</span><span class="p">}</span><span class="w">
  </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:02"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal2_entity2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">4.3</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Wide and narrow (sometimes un-stacked and stacked) are terms used to describe two different presentations for tabular data.
Here, we create a datastream and set it up with narrow style data for multiple entities or elements.</p>

<h3 id="sample-format-for-narrow-historian-style">Sample format for narrow/historian style</h3>

<table><thead>
<tr>
<th>Person</th>
<th>Variable</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>Bob</td>
<td>Age</td>
<td>32</td>
</tr>
<tr>
<td>Bob</td>
<td>Weight</td>
<td>128</td>
</tr>
<tr>
<td>Alice</td>
<td>Age</td>
<td>24</td>
</tr>
<tr>
<td>Alice</td>
<td>Weight</td>
<td>86</td>
</tr>
<tr>
<td>Steve</td>
<td>Age</td>
<td>64</td>
</tr>
<tr>
<td>Steve</td>
<td>Weight</td>
<td>95</td>
</tr>
</tbody></table>

<aside class="warning">
Structuring data as key-value pairs — as is done in narrow-form datasets — facilitates conceptual clarity. 
</aside>

<h2 id="setup-datastream-for-wide-style-data-from-a-single-entity">Setup datastream for wide style data from a single entity</h2>

<blockquote>
<p>To setup a datastream using wide style data for a single entity, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

  <span class="kt">var</span> <span class="n">time</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Time</span><span class="p">();</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Zone</span> <span class="p">=</span> <span class="s">"GMT"</span><span class="p">;</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Identifier</span> <span class="p">=</span> <span class="s">"time"</span><span class="p">;</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Format</span> <span class="p">=</span> <span class="s">"iso_8601"</span><span class="p">;</span>

  <span class="kt">var</span> <span class="n">datasource</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Datasource</span><span class="p">();</span>
  <span class="n">datasource</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"PI"</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">ds</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DatastreamRequest</span><span class="p">();</span>
  <span class="c1">// Input List</span>
    <span class="kt">var</span> <span class="n">inputList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Input</span><span class="p">&gt;();</span>
    <span class="kt">var</span> <span class="n">currents</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Input</span><span class="p">();</span>
    <span class="n">currents</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"current"</span><span class="p">;</span>
    <span class="n">currents</span><span class="p">.</span><span class="n">ValueType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ValueType</span><span class="p">();</span>
    <span class="n">currents</span><span class="p">.</span><span class="n">EventType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventType</span><span class="p">();</span>
    <span class="n">currents</span><span class="p">.</span><span class="n">ValueType</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"Numeric"</span><span class="p">;</span>
    <span class="n">currents</span><span class="p">.</span><span class="n">EventType</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"Samples"</span><span class="p">;</span>
    <span class="n">inputList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">currents</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">vibration</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Input</span><span class="p">();</span>
    <span class="n">vibration</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"vibration"</span><span class="p">;</span>
    <span class="n">vibration</span><span class="p">.</span><span class="n">ValueType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ValueType</span><span class="p">();</span>
    <span class="n">vibration</span><span class="p">.</span><span class="n">EventType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventType</span><span class="p">();</span>
    <span class="n">vibration</span><span class="p">.</span><span class="n">ValueType</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"Numeric"</span><span class="p">;</span>
    <span class="n">vibration</span><span class="p">.</span><span class="n">EventType</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"Samples"</span><span class="p">;</span>
    <span class="n">inputList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">vibration</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">state</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Input</span><span class="p">();</span>
    <span class="n">state</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"state"</span><span class="p">;</span>
    <span class="n">state</span><span class="p">.</span><span class="n">ValueType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ValueType</span><span class="p">();</span>
    <span class="n">state</span><span class="p">.</span><span class="n">EventType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventType</span><span class="p">();</span>
    <span class="n">state</span><span class="p">.</span><span class="n">ValueType</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"Categorical"</span><span class="p">;</span>
    <span class="n">state</span><span class="p">.</span><span class="n">EventType</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"Samples"</span><span class="p">;</span>
    <span class="n">inputList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">state</span><span class="p">);</span>

    <span class="n">ds</span><span class="p">.</span><span class="n">InputList</span> <span class="p">=</span> <span class="n">inputList</span><span class="p">;</span>
    <span class="kt">var</span> <span class="n">Field</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Field</span><span class="p">();</span>
    <span class="kt">var</span> <span class="n">Signal</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Signal</span><span class="p">();</span>
    <span class="n">Field</span><span class="p">.</span><span class="n">Signal</span> <span class="p">=</span> <span class="n">Signal</span><span class="p">;</span>
    <span class="n">Field</span><span class="p">.</span><span class="n">Time</span> <span class="p">=</span> <span class="n">time</span><span class="p">;</span>
    <span class="n">ds</span><span class="p">.</span><span class="n">Field</span> <span class="p">=</span> <span class="n">Field</span><span class="p">;</span>
    <span class="n">ds</span><span class="p">.</span><span class="n">DataSource</span> <span class="p">=</span> <span class="n">datasource</span><span class="p">;</span>
    <span class="kt">var</span> <span class="n">rnd</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="nf">Random</span><span class="p">();</span>
    <span class="kt">var</span> <span class="n">randomNumber</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Convert</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="n">rnd</span><span class="p">.</span><span class="nf">Next</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">10000</span><span class="p">));</span>
    <span class="n">ds</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"TestDS"</span> <span class="p">+</span> <span class="n">randomNumber</span><span class="p">;</span>
    <span class="n">ds</span><span class="p">.</span><span class="n">Field</span><span class="p">.</span><span class="n">Time</span> <span class="p">=</span> <span class="n">time</span><span class="p">;</span>
    <span class="n">ds</span><span class="p">.</span><span class="n">DataSource</span> <span class="p">=</span> <span class="n">datasource</span><span class="p">;</span>
    <span class="kt">var</span> <span class="n">datastream</span> <span class="p">=</span> <span class="n">_falkonry</span><span class="p">.</span><span class="nf">CreateDatastream</span><span class="p">(</span><span class="n">ds</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code>    <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datasource</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datastream</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Field</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.TimeObject</span><span class="o">;</span>
    <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Signal</span><span class="o">;</span>

    <span class="c1">//instantiate Falkonry</span>
    <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>

    <span class="n">Datastream</span> <span class="n">ds</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Datastream</span><span class="o">();</span>
    <span class="n">ds</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Test-DS-"</span> <span class="o">+</span> <span class="n">Math</span><span class="o">.</span><span class="na">random</span><span class="o">());</span>
    <span class="n">TimeObject</span> <span class="n">time</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TimeObject</span><span class="o">();</span>
    <span class="n">time</span><span class="o">.</span><span class="na">setIdentifier</span><span class="o">(</span><span class="s">"time"</span><span class="o">);</span>
    <span class="n">time</span><span class="o">.</span><span class="na">setFormat</span><span class="o">(</span><span class="s">"iso_8601"</span><span class="o">);</span>
    <span class="n">time</span><span class="o">.</span><span class="na">setZone</span><span class="o">(</span><span class="s">"GMT"</span><span class="o">);</span>

    <span class="n">Field</span> <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Field</span><span class="o">();</span>
    <span class="n">field</span><span class="o">.</span><span class="na">setTime</span><span class="o">(</span><span class="n">time</span><span class="o">);</span>
    <span class="n">ds</span><span class="o">.</span><span class="na">setField</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>
    <span class="n">Datasource</span> <span class="n">dataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Datasource</span><span class="o">();</span>
    <span class="n">dataSource</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"PI"</span><span class="o">);</span>
    <span class="n">dataSource</span><span class="o">.</span><span class="na">sethost</span><span class="o">(</span><span class="s">"https://test.piserver.com/piwebapi"</span><span class="o">);</span>
    <span class="n">dataSource</span><span class="o">.</span><span class="na">setElementTemplateName</span><span class="o">(</span><span class="s">"SampleElementTempalte"</span><span class="o">);</span>
    <span class="n">ds</span><span class="o">.</span><span class="na">setDatasource</span><span class="o">(</span><span class="n">dataSource</span><span class="o">);</span>

    <span class="c1">// Input List</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Input</span><span class="o">&gt;</span> <span class="n">inputList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Input</span><span class="o">&gt;();</span>
    <span class="n">Input</span> <span class="n">currents</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Input</span><span class="o">();</span>
    <span class="n">ValueType</span> <span class="n">valueType</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ValueType</span><span class="o">();</span>
    <span class="n">EventType</span> <span class="n">eventType</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EventType</span><span class="o">();</span>
    <span class="n">currents</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"current"</span><span class="o">);</span>
    <span class="n">valueType</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Numeric"</span><span class="o">);</span>
    <span class="n">eventType</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Samples"</span><span class="o">);</span>
    <span class="n">currents</span><span class="o">.</span><span class="na">setValueType</span><span class="o">(</span><span class="n">valueType</span><span class="o">);</span>
    <span class="n">currents</span><span class="o">.</span><span class="na">setEventType</span><span class="o">(</span><span class="n">eventType</span><span class="o">);</span>
    <span class="n">inputList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">currents</span><span class="o">);</span>

    <span class="n">Input</span> <span class="n">vibration</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Input</span><span class="o">();</span>
    <span class="n">vibration</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"vibration"</span><span class="o">);</span>
    <span class="n">valueType</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Numeric"</span><span class="o">);</span>
    <span class="n">eventType</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Samples"</span><span class="o">);</span>
    <span class="n">vibration</span><span class="o">.</span><span class="na">setValueType</span><span class="o">(</span><span class="n">valueType</span><span class="o">);</span>
    <span class="n">vibration</span><span class="o">.</span><span class="na">setEventType</span><span class="o">(</span><span class="n">eventType</span><span class="o">);</span>
    <span class="n">inputList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">vibration</span><span class="o">);</span>

    <span class="n">Input</span> <span class="n">state</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Input</span><span class="o">();</span>
    <span class="n">state</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"state"</span><span class="o">);</span>
    <span class="n">valueType</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Categorical"</span><span class="o">);</span>
    <span class="n">eventType</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Samples"</span><span class="o">);</span>
    <span class="n">state</span><span class="o">.</span><span class="na">setValueType</span><span class="o">(</span><span class="n">valueType</span><span class="o">);</span>
    <span class="n">state</span><span class="o">.</span><span class="na">setEventType</span><span class="o">(</span><span class="n">eventType</span><span class="o">);</span>
    <span class="n">inputList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">state</span><span class="o">);</span>

    <span class="n">ds</span><span class="o">.</span><span class="na">setInputList</span><span class="o">(</span><span class="n">inputList</span><span class="o">);</span>

    <span class="n">Datastream</span> <span class="n">datastream</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">createDatastream</span><span class="o">(</span><span class="n">ds</span><span class="o">);</span>


    <span class="c1">//Add data to datastream</span>
    <span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"{\"time\":1467729675422,\"signal1\":41.11,\"signal2\":82.34,\"signal3\":74.63,\"signal4\":4.8}"</span> <span class="o">+</span> <span class="s">"\n"</span>
        <span class="o">+</span> <span class="s">"{\"time\":1467729668919,\"signal1\":78.11,\"signal2\":2.33,\"signal3\":4.6,\"signal4\":9.8}"</span><span class="o">;</span>
    <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeIdentifier"</span><span class="o">,</span> <span class="s">"time"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeFormat"</span><span class="o">,</span> <span class="s">"millis"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fileFormat"</span><span class="o">,</span> <span class="s">"csv"</span><span class="o">);</span>
    <span class="n">falkonry</span><span class="o">.</span><span class="na">addInput</span><span class="o">(</span><span class="n">datastream</span><span class="o">.</span><span class="na">getId</span><span class="o">(),</span> <span class="n">data</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>
<span class="n">datastream</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Datastream</span><span class="p">()</span>
<span class="n">datasource</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Datasource</span><span class="p">()</span>
<span class="n">field</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
<span class="n">time</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Time</span><span class="p">()</span>
<span class="n">signal</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Signal</span><span class="p">()</span>
<span class="n">input1</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Input</span><span class="p">()</span>
<span class="n">input2</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Input</span><span class="p">()</span>
<span class="n">input3</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Input</span><span class="p">()</span>

<span class="n">datastream</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">'Motor Health'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()))</span>  <span class="c"># set name of the Datastream</span>

<span class="n">input1</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">"Signal1"</span><span class="p">)</span>                                  <span class="c"># set name of input signal</span>
<span class="n">input1</span><span class="o">.</span><span class="n">set_value_type</span><span class="p">(</span><span class="s">"Numeric"</span><span class="p">)</span>                            <span class="c"># set value type of input signal (Numeric for number, Categorical for string type)</span>
<span class="n">input1</span><span class="o">.</span><span class="n">set_event_type</span><span class="p">(</span><span class="s">"Samples"</span><span class="p">)</span>                            <span class="c"># set event type of input signal</span>
<span class="n">input2</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">"Signal2"</span><span class="p">)</span>                                  <span class="c"># set name of input signal</span>
<span class="n">input2</span><span class="o">.</span><span class="n">set_value_type</span><span class="p">(</span><span class="s">"Numeric"</span><span class="p">)</span>                            <span class="c"># set value type of input signal (Numeric for number, Categorical for string type)</span>
<span class="n">input2</span><span class="o">.</span><span class="n">set_event_type</span><span class="p">(</span><span class="s">"Samples"</span><span class="p">)</span>                            <span class="c"># set event type of input signal</span>
<span class="n">input3</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">"Signal3"</span><span class="p">)</span>                                  <span class="c"># set name of input signal</span>
<span class="n">input3</span><span class="o">.</span><span class="n">set_value_type</span><span class="p">(</span><span class="s">"Numeric"</span><span class="p">)</span>                            <span class="c"># set value type of input signal (Numeric for number, Categorical for string type)</span>
<span class="n">input3</span><span class="o">.</span><span class="n">set_event_type</span><span class="p">(</span><span class="s">"Samples"</span><span class="p">)</span>                            <span class="c"># set event type of input signal</span>
<span class="n">inputs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input1</span><span class="p">)</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input2</span><span class="p">)</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input3</span><span class="p">)</span>

<span class="n">time</span><span class="o">.</span><span class="n">set_zone</span><span class="p">(</span><span class="s">"GMT"</span><span class="p">)</span>                                        <span class="c"># set timezone of the datastream</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_identifier</span><span class="p">(</span><span class="s">"time"</span><span class="p">)</span>                                 <span class="c"># set time identifier of the datastream</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_format</span><span class="p">(</span><span class="s">"iso_8601"</span><span class="p">)</span>                                 <span class="c"># set time format of the datastream</span>
<span class="n">field</span><span class="o">.</span><span class="n">set_time</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>            
<span class="n">field</span><span class="o">.</span><span class="n">set_signal</span><span class="p">(</span><span class="n">signal</span><span class="p">)</span>                                    <span class="c"># set signal in field</span>
<span class="n">datasource</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="s">"STANDALONE"</span><span class="p">)</span>                           <span class="c"># set datastource type in datastream</span>
<span class="n">datastream</span><span class="o">.</span><span class="n">set_datasource</span><span class="p">(</span><span class="n">datasource</span><span class="p">)</span>
<span class="n">datastream</span><span class="o">.</span><span class="n">set_field</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
<span class="n">datastream</span><span class="o">.</span><span class="n">set_inputs</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>

<span class="c">#create Datastream</span>
<span class="n">createdDatastream</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">create_datastream</span><span class="p">(</span><span class="n">datastream</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>Input data could be of the following format:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="s2">"time"</span><span class="p">:</span><span class="mi">1467729675422</span><span class="p">,</span><span class="w"> </span><span class="s2">"entities"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal1"</span><span class="p">:</span><span class="mf">41.11</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal2"</span><span class="p">:</span><span class="mf">82.34</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal3"</span><span class="p">:</span><span class="mf">74.63</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal4"</span><span class="p">:</span><span class="mf">4.8</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="s2">"time"</span><span class="p">:</span><span class="mi">1467729668919</span><span class="p">,</span><span class="w"> </span><span class="s2">"entities"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal1"</span><span class="p">:</span><span class="mf">78.11</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal2"</span><span class="p">:</span><span class="mf">2.33</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal3"</span><span class="p">:</span><span class="mf">4.6</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal4"</span><span class="p">:</span><span class="mf">9.8</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Wide and narrow (sometimes un-stacked and stacked) are terms used to describe two different presentations for tabular data.
Here, we create a datastream and set it up with wide style data for a single entity or element.</p>

<h3 id="sample-format-for-wide-style">Sample format for wide style</h3>

<table><thead>
<tr>
<th>Person</th>
<th>Age</th>
<th>Weight</th>
</tr>
</thead><tbody>
<tr>
<td>Bob</td>
<td>32</td>
<td>128</td>
</tr>
<tr>
<td>Alice</td>
<td>24</td>
<td>86</td>
</tr>
<tr>
<td>Steve</td>
<td>64</td>
<td>95</td>
</tr>
</tbody></table>

<aside class="warning">
If you have many value variables, it is difficult to summarize wide-form datasets at a glance
</aside>

<h2 id="setup-datastream-for-wide-style-data-from-multiple-entities">Setup datastream for wide style data from multiple entities</h2>

<blockquote>
<p>To setup a datastream using wide style data for multiple entities, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

  <span class="kt">var</span> <span class="n">time</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Time</span><span class="p">();</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Zone</span> <span class="p">=</span> <span class="s">"GMT"</span><span class="p">;</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Identifier</span> <span class="p">=</span> <span class="s">"time"</span><span class="p">;</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Format</span> <span class="p">=</span> <span class="s">"iso_8601"</span><span class="p">;</span>

  <span class="kt">var</span> <span class="n">datasource</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Datasource</span><span class="p">();</span>
  <span class="n">datasource</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"PI"</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">ds</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DatastreamRequest</span><span class="p">();</span>
  <span class="c1">// Input List</span>
    <span class="kt">var</span> <span class="n">inputList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">Input</span><span class="p">&gt;();</span>
    <span class="kt">var</span> <span class="n">currents</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Input</span><span class="p">();</span>
    <span class="n">currents</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"current"</span><span class="p">;</span>
    <span class="n">currents</span><span class="p">.</span><span class="n">ValueType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ValueType</span><span class="p">();</span>
    <span class="n">currents</span><span class="p">.</span><span class="n">EventType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventType</span><span class="p">();</span>
    <span class="n">currents</span><span class="p">.</span><span class="n">ValueType</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"Numeric"</span><span class="p">;</span>
    <span class="n">currents</span><span class="p">.</span><span class="n">EventType</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"Samples"</span><span class="p">;</span>
    <span class="n">inputList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">currents</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">vibration</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Input</span><span class="p">();</span>
    <span class="n">vibration</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"vibration"</span><span class="p">;</span>
    <span class="n">vibration</span><span class="p">.</span><span class="n">ValueType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ValueType</span><span class="p">();</span>
    <span class="n">vibration</span><span class="p">.</span><span class="n">EventType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventType</span><span class="p">();</span>
    <span class="n">vibration</span><span class="p">.</span><span class="n">ValueType</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"Numeric"</span><span class="p">;</span>
    <span class="n">vibration</span><span class="p">.</span><span class="n">EventType</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"Samples"</span><span class="p">;</span>
    <span class="n">inputList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">vibration</span><span class="p">);</span>

    <span class="kt">var</span> <span class="n">state</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Input</span><span class="p">();</span>
    <span class="n">state</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"state"</span><span class="p">;</span>
    <span class="n">state</span><span class="p">.</span><span class="n">ValueType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ValueType</span><span class="p">();</span>
    <span class="n">state</span><span class="p">.</span><span class="n">EventType</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EventType</span><span class="p">();</span>
    <span class="n">state</span><span class="p">.</span><span class="n">ValueType</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"Categorical"</span><span class="p">;</span>
    <span class="n">state</span><span class="p">.</span><span class="n">EventType</span><span class="p">.</span><span class="n">Type</span> <span class="p">=</span> <span class="s">"Samples"</span><span class="p">;</span>
    <span class="n">inputList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">state</span><span class="p">);</span>

    <span class="n">ds</span><span class="p">.</span><span class="n">InputList</span> <span class="p">=</span> <span class="n">inputList</span><span class="p">;</span>
    <span class="kt">var</span> <span class="n">Field</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Field</span><span class="p">();</span>
    <span class="n">Field</span><span class="p">.</span><span class="n">EntityIdentifier</span> <span class="p">=</span> <span class="s">"Unit"</span><span class="p">;</span>
    <span class="kt">var</span> <span class="n">Signal</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Signal</span><span class="p">();</span>
    <span class="n">Field</span><span class="p">.</span><span class="n">Signal</span> <span class="p">=</span> <span class="n">Signal</span><span class="p">;</span>
    <span class="n">Field</span><span class="p">.</span><span class="n">Time</span> <span class="p">=</span> <span class="n">time</span><span class="p">;</span>
    <span class="n">ds</span><span class="p">.</span><span class="n">Field</span> <span class="p">=</span> <span class="n">Field</span><span class="p">;</span>
    <span class="n">ds</span><span class="p">.</span><span class="n">DataSource</span> <span class="p">=</span> <span class="n">datasource</span><span class="p">;</span>
    <span class="kt">var</span> <span class="n">rnd</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="nf">Random</span><span class="p">();</span>
    <span class="kt">var</span> <span class="n">randomNumber</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">Convert</span><span class="p">.</span><span class="nf">ToString</span><span class="p">(</span><span class="n">rnd</span><span class="p">.</span><span class="nf">Next</span><span class="p">(</span><span class="m">1</span><span class="p">,</span> <span class="m">10000</span><span class="p">));</span>
    <span class="n">ds</span><span class="p">.</span><span class="n">Name</span> <span class="p">=</span> <span class="s">"TestDS"</span> <span class="p">+</span> <span class="n">randomNumber</span><span class="p">;</span>
    <span class="n">ds</span><span class="p">.</span><span class="n">Field</span><span class="p">.</span><span class="n">Time</span> <span class="p">=</span> <span class="n">time</span><span class="p">;</span>
    <span class="n">ds</span><span class="p">.</span><span class="n">DataSource</span> <span class="p">=</span> <span class="n">datasource</span><span class="p">;</span>
    <span class="kt">var</span> <span class="n">datastream</span> <span class="p">=</span> <span class="n">_falkonry</span><span class="p">.</span><span class="nf">CreateDatastream</span><span class="p">(</span><span class="n">ds</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datasource</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datastream</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Field</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.TimeObject</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Signal</span><span class="o">;</span>

  <span class="c1">//instantiate Falkonry</span>
  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>

  <span class="n">Datastream</span> <span class="n">ds</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Datastream</span><span class="o">();</span>
  <span class="n">ds</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Test-DS-"</span> <span class="o">+</span> <span class="n">Math</span><span class="o">.</span><span class="na">random</span><span class="o">());</span>

  <span class="n">TimeObject</span> <span class="n">time</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TimeObject</span><span class="o">();</span>
  <span class="n">time</span><span class="o">.</span><span class="na">setIdentifier</span><span class="o">(</span><span class="s">"time"</span><span class="o">);</span>
  <span class="n">time</span><span class="o">.</span><span class="na">setFormat</span><span class="o">(</span><span class="s">"millis"</span><span class="o">);</span>
  <span class="n">time</span><span class="o">.</span><span class="na">setZone</span><span class="o">(</span><span class="s">"GMT"</span><span class="o">);</span>

  <span class="n">Signal</span> <span class="n">signal</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Signal</span><span class="o">();</span>
  <span class="n">signal</span><span class="o">.</span><span class="na">setTagIdentifier</span><span class="o">(</span><span class="s">"tag"</span><span class="o">);</span>
  <span class="n">signal</span><span class="o">.</span><span class="na">setValueIdentifier</span><span class="o">(</span><span class="s">"value"</span><span class="o">);</span>
  <span class="n">signal</span><span class="o">.</span><span class="na">setDelimiter</span><span class="o">(</span><span class="s">"_"</span><span class="o">);</span>
  <span class="n">signal</span><span class="o">.</span><span class="na">setIsSignalPrefix</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>

  <span class="n">Datasource</span> <span class="n">dataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Datasource</span><span class="o">();</span>
  <span class="n">dataSource</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"STANDALONE"</span><span class="o">);</span>

  <span class="n">Field</span> <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Field</span><span class="o">();</span>
  <span class="n">field</span><span class="o">.</span><span class="na">setSiganl</span><span class="o">(</span><span class="n">signal</span><span class="o">);</span>
  <span class="n">field</span><span class="o">.</span><span class="na">setTime</span><span class="o">(</span><span class="n">time</span><span class="o">);</span>
  <span class="n">field</span><span class="o">.</span><span class="na">setEntityIdentifier</span><span class="o">(</span><span class="s">"entities"</span><span class="o">);</span>

  <span class="n">ds</span><span class="o">.</span><span class="na">setDatasource</span><span class="o">(</span><span class="n">dataSource</span><span class="o">);</span>
  <span class="n">ds</span><span class="o">.</span><span class="na">setField</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>

  <span class="n">Datastream</span> <span class="n">datastream</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">createDatastream</span><span class="o">(</span><span class="n">ds</span><span class="o">);</span>


  <span class="c1">//Add data to datastream</span>
  <span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"time, entities, signal1, signal2, signal3, signal4"</span> <span class="o">+</span> <span class="s">"\n"</span>
      <span class="o">+</span> <span class="s">"1467729675422, entity1, 41.11, 62.34, 77.63, 4.8"</span> <span class="o">+</span> <span class="s">"\n"</span>
      <span class="o">+</span> <span class="s">"1467729675445, entity1, 43.91, 82.64, 73.63, 3.8"</span><span class="o">;</span>
  <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
  <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeIdentifier"</span><span class="o">,</span> <span class="s">"time"</span><span class="o">);</span>
  <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeFormat"</span><span class="o">,</span> <span class="s">"millis"</span><span class="o">);</span>
  <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fileFormat"</span><span class="o">,</span> <span class="s">"csv"</span><span class="o">);</span>
  <span class="n">falkonry</span><span class="o">.</span><span class="na">addInput</span><span class="o">(</span><span class="n">datastream</span><span class="o">.</span><span class="na">getId</span><span class="o">(),</span> <span class="n">data</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>
<span class="n">datastream</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Datastream</span><span class="p">()</span>
<span class="n">datasource</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Datasource</span><span class="p">()</span>
<span class="n">field</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Field</span><span class="p">()</span>
<span class="n">time</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Time</span><span class="p">()</span>
<span class="n">signal</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Signal</span><span class="p">()</span>
<span class="n">input1</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Input</span><span class="p">()</span>
<span class="n">input2</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Input</span><span class="p">()</span>
<span class="n">input3</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Input</span><span class="p">()</span>

<span class="n">datastream</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">'Motor Health'</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()))</span>  <span class="c"># set name of the Datastream</span>

<span class="n">input1</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">"Signal1"</span><span class="p">)</span>                                  <span class="c"># set name of input signal</span>
<span class="n">input1</span><span class="o">.</span><span class="n">set_value_type</span><span class="p">(</span><span class="s">"Numeric"</span><span class="p">)</span>                            <span class="c"># set value type of input signal (Numeric for number, Categorical for string type)</span>
<span class="n">input1</span><span class="o">.</span><span class="n">set_event_type</span><span class="p">(</span><span class="s">"Samples"</span><span class="p">)</span>                            <span class="c"># set event type of input signal</span>
<span class="n">input2</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">"Signal2"</span><span class="p">)</span>                                  <span class="c"># set name of input signal</span>
<span class="n">input2</span><span class="o">.</span><span class="n">set_value_type</span><span class="p">(</span><span class="s">"Numeric"</span><span class="p">)</span>                            <span class="c"># set value type of input signal (Numeric for number, Categorical for string type)</span>
<span class="n">input2</span><span class="o">.</span><span class="n">set_event_type</span><span class="p">(</span><span class="s">"Samples"</span><span class="p">)</span>                            <span class="c"># set event type of input signal</span>
<span class="n">input3</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">"Signal3"</span><span class="p">)</span>                                  <span class="c"># set name of input signal</span>
<span class="n">input3</span><span class="o">.</span><span class="n">set_value_type</span><span class="p">(</span><span class="s">"Numeric"</span><span class="p">)</span>                            <span class="c"># set value type of input signal (Numeric for number, Categorical for string type)</span>
<span class="n">input3</span><span class="o">.</span><span class="n">set_event_type</span><span class="p">(</span><span class="s">"Samples"</span><span class="p">)</span>                            <span class="c"># set event type of input signal</span>
<span class="n">inputs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input1</span><span class="p">)</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input2</span><span class="p">)</span>
<span class="n">inputs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">input3</span><span class="p">)</span>

<span class="n">time</span><span class="o">.</span><span class="n">set_zone</span><span class="p">(</span><span class="s">"GMT"</span><span class="p">)</span>                                        <span class="c"># set timezone of the datastream</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_identifier</span><span class="p">(</span><span class="s">"time"</span><span class="p">)</span>                                 <span class="c"># set time identifier of the datastream</span>
<span class="n">time</span><span class="o">.</span><span class="n">set_format</span><span class="p">(</span><span class="s">"iso_8601"</span><span class="p">)</span>                                 <span class="c"># set time format of the datastream</span>
<span class="n">field</span><span class="o">.</span><span class="n">set_time</span><span class="p">(</span><span class="n">time</span><span class="p">)</span>            
<span class="n">field</span><span class="o">.</span><span class="n">set_signal</span><span class="p">(</span><span class="n">signal</span><span class="p">)</span>                                    <span class="c"># set signal in field</span>
<span class="n">field</span><span class="o">.</span><span class="n">set_entityIdentifier</span><span class="p">(</span><span class="s">"thing"</span><span class="p">)</span>                         <span class="c"># set entity identifier as "thing"</span>
<span class="n">datasource</span><span class="o">.</span><span class="n">set_type</span><span class="p">(</span><span class="s">"STANDALONE"</span><span class="p">)</span>                           <span class="c"># set datastource type in datastream</span>
<span class="n">datastream</span><span class="o">.</span><span class="n">set_datasource</span><span class="p">(</span><span class="n">datasource</span><span class="p">)</span>
<span class="n">datastream</span><span class="o">.</span><span class="n">set_field</span><span class="p">(</span><span class="n">field</span><span class="p">)</span>
<span class="n">datastream</span><span class="o">.</span><span class="n">set_inputs</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span>

<span class="c">#create Datastream</span>
<span class="n">createdDatastream</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">create_datastream</span><span class="p">(</span><span class="n">datastream</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>Input data could be of the following format:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="s2">"time"</span><span class="p">:</span><span class="mi">1467729675422</span><span class="p">,</span><span class="w"> </span><span class="s2">"entities"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal1"</span><span class="p">:</span><span class="mf">41.11</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal2"</span><span class="p">:</span><span class="mf">82.34</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal3"</span><span class="p">:</span><span class="mf">74.63</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal4"</span><span class="p">:</span><span class="mf">4.8</span><span class="p">}</span><span class="w">
  </span><span class="p">{</span><span class="s2">"time"</span><span class="p">:</span><span class="mi">1467729668919</span><span class="p">,</span><span class="w"> </span><span class="s2">"entities"</span><span class="p">:</span><span class="w"> </span><span class="s2">"entity2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal1"</span><span class="p">:</span><span class="mf">78.11</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal2"</span><span class="p">:</span><span class="mf">2.33</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal3"</span><span class="p">:</span><span class="mf">4.6</span><span class="p">,</span><span class="w"> </span><span class="s2">"signal4"</span><span class="p">:</span><span class="mf">9.8</span><span class="p">}</span><span class="w">
</span></code></pre>
<h3 id="sample-format-for-wide-style">Sample format for wide style</h3>

<table><thead>
<tr>
<th>Person</th>
<th>Age</th>
<th>Weight</th>
</tr>
</thead><tbody>
<tr>
<td>Bob</td>
<td>32</td>
<td>128</td>
</tr>
<tr>
<td>Alice</td>
<td>24</td>
<td>86</td>
</tr>
<tr>
<td>Steve</td>
<td>64</td>
<td>95</td>
</tr>
</tbody></table>

<aside class="warning">
If you have many value variables, it is difficult to summarize wide-form datasets at a glance
</aside>

<h2 id="retrieving-all-datastreams">Retrieving all datastreams</h2>

<blockquote>
<p>To retrieve a list of existing datastreams, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>
  <span class="n">List</span><span class="p">&lt;</span><span class="n">Datastream</span><span class="p">&gt;</span> <span class="n">datastreams</span> <span class="p">=</span> <span class="n">_falkonry</span><span class="p">.</span><span class="nf">GetDatastreams</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>

  <span class="n">datastream</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">getDatastreams</span><span class="o">();</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="c">#return list of Datastreams</span>
<span class="n">datastreams</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">get_datastreams</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<h2 id="retrieve-datastream-by-id">Retrieve datastream by id</h2>

<blockquote>
<p>To retrieve datastream by id, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>
  <span class="n">Datastream</span> <span class="n">datastream</span> <span class="p">=</span> <span class="n">_falkonry</span><span class="p">.</span><span class="nf">GetDatastream</span><span class="p">(</span><span class="err">'</span><span class="n">datastreamId</span><span class="err">'</span><span class="p">)</span>

</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>

  <span class="n">datastream</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">getDatastream</span><span class="o">(</span><span class="s">"datastream_id"</span><span class="o">);</span> <span class="c1">//datastream's id</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">datastreamId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="c">#return sigle datastream</span>
<span class="n">datastreams</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">get_datastream</span><span class="p">(</span><span class="n">datastreamId</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"createdBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updatedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"updateTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"inputList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"valueType"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
      </span><span class="s2">"eventType"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
      </span><span class="s2">"inputType"</span><span class="p">:</span><span class="w"> </span><span class="p">{}</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"dataSource"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STANDALONE"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"field"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"entityIdentifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"entityName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"signal"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"tagIdentifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"delimiter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"isSignalPrefix"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"valueIdentifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"time"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"format"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"zone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Use <code class="prettyprint">retrieve all datastreams</code> to get a list of datastreams with their ids.</p>

<p>Use any of these ids to retrieve the datastream of your choice</p>

<h2 id="add-historical-input-data-json-to-datastream">Add historical input data (json) to datastream</h2>

<blockquote>
<p>To add historical input data in json format, use this code: </p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">data</span> <span class="p">=</span> <span class="s">"{\"time\" :\"2016-03-01 01:01:01\", \"current\" : 12.4, \"vibration\" : 3.4, \"state\" : \"On\"}"</span><span class="p">;</span>

<span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeIdentifier"</span><span class="p">,</span> <span class="s">"time"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeFormat"</span><span class="p">,</span> <span class="s">"iso_8601"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"fileFormat"</span><span class="p">,</span> <span class="s">"json"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"streaming"</span><span class="p">,</span> <span class="s">"false"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"hasMoreData"</span><span class="p">,</span> <span class="s">"false"</span><span class="p">);</span>
  <span class="n">InputStatus</span> <span class="n">inputstatus</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">addInput</span><span class="p">(</span><span class="err">'</span><span class="n">datastream</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datasource</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datastream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Field</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.TimeObject</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Signal</span><span class="o">;</span>

  <span class="c1">//instantiate Falkonry</span>
  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>
  <span class="c1">//Add data to datastream</span>
  <span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"{\"time\" : \"2016-03-01 01:01:01\", \"tag\" : \"signal1\", \"value\" : 3.4}"</span> <span class="o">+</span> <span class="s">"\n"</span>
      <span class="o">+</span> <span class="s">"{\"time\" : \"2016-03-01 01:01:02\", \"tag\" : \"signal2\", \"value\" : 9.3}"</span><span class="o">;</span>

  <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeIdentifier"</span><span class="o">,</span> <span class="s">"time"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeFormat"</span><span class="o">,</span> <span class="s">"iso_8601"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fileFormat"</span><span class="o">,</span> <span class="s">"csv"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"streaming"</span><span class="o">,</span> <span class="s">"false"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"hasMoreData"</span><span class="o">,</span> <span class="s">"false"</span><span class="o">);</span>
    <span class="n">falkonry</span><span class="o">.</span><span class="na">addInput</span><span class="o">(</span><span class="err">'</span><span class="n">datastream</span><span class="o">-</span><span class="n">Id</span><span class="err">'</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">datastreamId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="c">#add data to Datastream</span>
<span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"{</span><span class="se">\"</span><span class="s">time</span><span class="se">\"</span><span class="s"> : </span><span class="se">\"</span><span class="s">2016-03-01 01:01:01</span><span class="se">\"</span><span class="s">, </span><span class="se">\"</span><span class="s">tag</span><span class="se">\"</span><span class="s"> : </span><span class="se">\"</span><span class="s">signal1_thing1</span><span class="se">\"</span><span class="s">, </span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s"> : 3.4}"</span> <span class="o">+</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
        <span class="o">+</span> <span class="s">"{</span><span class="se">\"</span><span class="s">time</span><span class="se">\"</span><span class="s"> : </span><span class="se">\"</span><span class="s">2016-03-01 01:01:01</span><span class="se">\"</span><span class="s">, </span><span class="se">\"</span><span class="s">tag</span><span class="se">\"</span><span class="s"> : </span><span class="se">\"</span><span class="s">signal2_thing1</span><span class="se">\"</span><span class="s">, </span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s"> : 1.4}"</span> <span class="o">+</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
        <span class="o">+</span> <span class="s">"{</span><span class="se">\"</span><span class="s">time</span><span class="se">\"</span><span class="s"> : </span><span class="se">\"</span><span class="s">2016-03-01 01:01:02</span><span class="se">\"</span><span class="s">, </span><span class="se">\"</span><span class="s">tag</span><span class="se">\"</span><span class="s"> : </span><span class="se">\"</span><span class="s">signal1_thing1</span><span class="se">\"</span><span class="s">, </span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s"> : 9.3}"</span> <span class="o">+</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
        <span class="o">+</span> <span class="s">"{</span><span class="se">\"</span><span class="s">time</span><span class="se">\"</span><span class="s"> : </span><span class="se">\"</span><span class="s">2016-03-01 01:01:02</span><span class="se">\"</span><span class="s">, </span><span class="se">\"</span><span class="s">tag</span><span class="se">\"</span><span class="s"> : </span><span class="se">\"</span><span class="s">signal2_thing2</span><span class="se">\"</span><span class="s">, </span><span class="se">\"</span><span class="s">value</span><span class="se">\"</span><span class="s"> : 4.3}"</span><span class="p">;</span>

<span class="c"># set hasMoreData to True if data is sent in batches. When the last batch is getting sent then set  'hasMoreData' to False. For single batch upload it shpuld always be set to False</span>
<span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s">'streaming'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">'hasMoreData'</span><span class="p">:</span><span class="bp">False</span><span class="p">}</span>   
<span class="n">inputResponse</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">add_input_data</span><span class="p">(</span><span class="n">datastreamId</span><span class="p">,</span> <span class="s">'json'</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>Input data could be of the following format:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:01"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal1_thing1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">3.4</span><span class="p">}</span><span class="w">
  </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:01"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal2_thing1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.4</span><span class="p">}</span><span class="w">
  </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:02"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal1_thing2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.3</span><span class="p">}</span><span class="w">
  </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:02"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal2_thing2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">4.3</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>json data from a historian or time series data store can be imported into a Falkonry datastream</p>

<aside class="success">
Falkonry needs historical time series data to build pattern recognition models.
</aside>

<h2 id="add-historical-input-data-csv-to-datastream">Add historical input data (csv) to datastream</h2>

<blockquote>
<p>To add historical input data in csv format, use this code: </p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">data</span> <span class="p">=</span> <span class="s">"time, entities, signal1, signal2, signal3, signal4"</span> <span class="p">+</span> <span class="s">"\n"</span>
      <span class="p">+</span> <span class="s">"1467729675422, entity1, 41.11, 62.34, 77.63, 4.8"</span> <span class="p">+</span> <span class="s">"\n"</span>
      <span class="p">+</span> <span class="s">"1467729675445, entity1, 43.91, 82.64, 73.63, 3.8"</span><span class="p">;</span>

<span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeIdentifier"</span><span class="p">,</span> <span class="s">"time"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeFormat"</span><span class="p">,</span> <span class="s">"iso_8601"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"fileFormat"</span><span class="p">,</span> <span class="s">"csv"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"streaming"</span><span class="p">,</span> <span class="s">"false"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"hasMoreData"</span><span class="p">,</span> <span class="s">"false"</span><span class="p">);</span>
<span class="n">InputStatus</span> <span class="n">inputstatus</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">addInput</span><span class="p">(</span><span class="err">'</span><span class="n">datastream</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datasource</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datastream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Field</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.TimeObject</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Signal</span><span class="o">;</span>

  <span class="c1">//instantiate Falkonry</span>
  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>
 <span class="c1">//Add data to datastream</span>
    <span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"time, entities, signal1, signal2, signal3, signal4"</span> <span class="o">+</span> <span class="s">"\n"</span>
        <span class="o">+</span> <span class="s">"1467729675422, entity1, 41.11, 62.34, 77.63, 4.8"</span> <span class="o">+</span> <span class="s">"\n"</span>
        <span class="o">+</span> <span class="s">"1467729675445, entity1, 43.91, 82.64, 73.63, 3.8"</span><span class="o">;</span>
    <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
      <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeIdentifier"</span><span class="o">,</span> <span class="s">"time"</span><span class="o">);</span>
      <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeFormat"</span><span class="o">,</span> <span class="s">"millis"</span><span class="o">);</span>
      <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fileFormat"</span><span class="o">,</span> <span class="s">"csv"</span><span class="o">);</span>
      <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"streaming"</span><span class="o">,</span> <span class="s">"false"</span><span class="o">);</span>
      <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"hasMoreData"</span><span class="o">,</span> <span class="s">"false"</span><span class="o">);</span>
      <span class="n">falkonry</span><span class="o">.</span><span class="na">addInput</span><span class="o">(</span><span class="err">'</span><span class="n">datastream</span><span class="o">-</span><span class="n">Id</span><span class="err">'</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">datastreamId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="c">#add data to Datastream</span>
<span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"time, tag, value "</span> <span class="o">+</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
        <span class="o">+</span> <span class="s">"2016-03-01 01:01:01, signal1_thing1, 3.4"</span> <span class="o">+</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
        <span class="o">+</span> <span class="s">"2016-03-01 01:01:01, signal2_thing1, 1.4"</span><span class="p">;</span>

<span class="c"># set hasMoreData to True if data is sent in batches. When the last batch is getting sent then set  'hasMoreData' to False. For single batch upload it shpuld always be set to False</span>
<span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s">'streaming'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">'hasMoreData'</span><span class="p">:</span><span class="bp">False</span><span class="p">}</span>   
<span class="n">inputResponse</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">add_input_data</span><span class="p">(</span><span class="n">datastreamId</span><span class="p">,</span> <span class="s">'csv'</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>Input data could be of the following format:</p>
</blockquote>
<pre class="highlight plaintext"><code>  time, tag, value
  2016-03-01 01:01:01, signal1_thing1, 3.4
  2016-03-01 01:01:01, signal2_thing1, 1.4
</code></pre>
<p>csv data from a historian or time series data store can be imported into a Falkonry datastream</p>

<aside class="success">
Falkonry needs historical time series data to build pattern recognition models.
</aside>

<h2 id="add-historical-input-data-json-from-a-stream-to-datastream">Add historical input data (json) from a stream to datastream</h2>

<blockquote>
<p>To add historical input data in json format from a stream, use this code: </p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

<span class="cm">/*This particular example will read data from a AddData.json file in debug folder in bin*/</span>

<span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeIdentifier"</span><span class="p">,</span> <span class="s">"time"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeFormat"</span><span class="p">,</span> <span class="s">"iso_8601"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"streaming"</span><span class="p">,</span> <span class="s">"false"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"hasMoreData"</span><span class="p">,</span> <span class="s">"false"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"fileFormat"</span><span class="p">,</span> <span class="s">"json"</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">folder_path</span> <span class="p">=</span> <span class="n">Path</span><span class="p">.</span><span class="nf">GetDirectoryName</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Reflection</span><span class="p">.</span><span class="n">Assembly</span><span class="p">.</span><span class="nf">GetExecutingAssembly</span><span class="p">().</span><span class="n">Location</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">path</span> <span class="p">=</span> <span class="n">folder_path</span> <span class="p">+</span> <span class="s">"/AddData.json"</span><span class="p">;</span>
<span class="c1">//Alternatively, you can directly specify the folder path in the "folder_path" variable</span>

<span class="kt">byte</span><span class="p">[]</span> <span class="n">bytes</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">File</span><span class="p">.</span><span class="nf">ReadAllBytes</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>

<span class="n">InputStatus</span> <span class="n">inputstatus</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">addInputStream</span><span class="p">(</span><span class="err">'</span><span class="n">datastream</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">,</span> <span class="n">bytes</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.io.FileUtils</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span>   <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>
  <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeIdentifier"</span><span class="o">,</span> <span class="s">"time"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeFormat"</span><span class="o">,</span> <span class="s">"millis"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fileFormat"</span><span class="o">,</span> <span class="s">"csv"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"streaming"</span><span class="o">,</span> <span class="s">"false"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"hasMoreData"</span><span class="o">,</span> <span class="s">"false"</span><span class="o">);</span>

    <span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"tmp/data.json"</span><span class="o">);</span>      
      <span class="n">ByteArrayInputStream</span> <span class="n">istream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ByteArrayInputStream</span><span class="o">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="na">readFileToByteArray</span><span class="o">(</span><span class="n">file</span><span class="o">));</span>

      <span class="n">InputStatus</span> <span class="n">inputStatus</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">addInputStream</span><span class="o">(</span><span class="err">'</span><span class="n">datastream</span><span class="o">-</span><span class="n">Id</span><span class="err">'</span><span class="o">,</span><span class="n">byteArrayInputStream</span><span class="o">,</span><span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">datastreamId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="c">#add data to Datastream</span>
<span class="n">stream</span>   <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="nb">open</span><span class="p">(</span><span class="s">'./data.json'</span><span class="p">)</span>

<span class="c"># set hasMoreData to True if data is sent in batches. When the last batch is getting sent then set  'hasMoreData' to False. For single batch upload it shpuld always be set to False</span>
<span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s">'streaming'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">'hasMoreData'</span><span class="p">:</span><span class="bp">False</span><span class="p">}</span>   
<span class="n">inputResponse</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">add_input_data</span><span class="p">(</span><span class="n">datastreamId</span><span class="p">,</span> <span class="s">'json'</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">stream</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>Input data could be of the following format:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:01"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal1_thing1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">3.4</span><span class="p">}</span><span class="w">
  </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:01"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal2_thing1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">1.4</span><span class="p">}</span><span class="w">
  </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:02"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal1_thing2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">9.3</span><span class="p">}</span><span class="w">
  </span><span class="p">{</span><span class="s2">"time"</span><span class="w"> </span><span class="p">:</span><span class="s2">"2016-03-01 01:01:02"</span><span class="p">,</span><span class="w"> </span><span class="s2">"tag"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"signal2_thing2"</span><span class="p">,</span><span class="w"> </span><span class="s2">"value"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mf">4.3</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>json data from a historian or time series data store can be imported into a Falkonry datastream</p>

<aside class="success">
Falkonry needs historical time series data to build pattern recognition models.
</aside>

<h2 id="add-historical-input-data-csv-from-a-stream-to-datastream">Add historical input data (csv) from a stream to datastream</h2>

<blockquote>
<p>To add historical input data in csv format from a stream to a datastream, use this code: </p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

<span class="cm">/*This particular example will read data from a AddData.json file in debug folder in bin*/</span>

<span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeIdentifier"</span><span class="p">,</span> <span class="s">"time"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeFormat"</span><span class="p">,</span> <span class="s">"iso_8601"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"streaming"</span><span class="p">,</span> <span class="s">"false"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"hasMoreData"</span><span class="p">,</span> <span class="s">"false"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"fileFormat"</span><span class="p">,</span> <span class="s">"csv"</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">folder_path</span> <span class="p">=</span> <span class="n">Path</span><span class="p">.</span><span class="nf">GetDirectoryName</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Reflection</span><span class="p">.</span><span class="n">Assembly</span><span class="p">.</span><span class="nf">GetExecutingAssembly</span><span class="p">().</span><span class="n">Location</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">path</span> <span class="p">=</span> <span class="n">folder_path</span> <span class="p">+</span> <span class="s">"/AddData.csv"</span><span class="p">;</span>
<span class="c1">//Alternatively, you can directly specify the folder path in the "folder_path" variable</span>

<span class="kt">byte</span><span class="p">[]</span> <span class="n">bytes</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">File</span><span class="p">.</span><span class="nf">ReadAllBytes</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>

<span class="n">InputStatus</span> <span class="n">inputstatus</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">addInputStream</span><span class="p">(</span><span class="err">'</span><span class="n">datastream</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">,</span> <span class="n">bytes</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.io.FileUtils</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span>   <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>
  <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
  <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeIdentifier"</span><span class="o">,</span> <span class="s">"time"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeFormat"</span><span class="o">,</span> <span class="s">"millis"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fileFormat"</span><span class="o">,</span> <span class="s">"csv"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"streaming"</span><span class="o">,</span> <span class="s">"false"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"hasMoreData"</span><span class="o">,</span> <span class="s">"false"</span><span class="o">);</span>

    <span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"tmp/data.csv"</span><span class="o">);</span>     
      <span class="n">ByteArrayInputStream</span> <span class="n">istream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ByteArrayInputStream</span><span class="o">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="na">readFileToByteArray</span><span class="o">(</span><span class="n">file</span><span class="o">));</span>

      <span class="n">InputStatus</span> <span class="n">inputStatus</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">addInputStream</span><span class="o">(</span><span class="err">'</span><span class="n">datastream</span><span class="o">-</span><span class="n">Id</span><span class="err">'</span><span class="o">,</span><span class="n">byteArrayInputStream</span><span class="o">,</span><span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">datastreamId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="c">#add data to Datastream</span>
<span class="n">stream</span>   <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="nb">open</span><span class="p">(</span><span class="s">'./data.csv'</span><span class="p">)</span>

<span class="c"># set hasMoreData to True if data is sent in batches. When the last batch is getting sent then set  'hasMoreData' to False. For single batch upload it shpuld always be set to False</span>
<span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s">'streaming'</span><span class="p">:</span> <span class="bp">False</span><span class="p">,</span> <span class="s">'hasMoreData'</span><span class="p">:</span><span class="bp">False</span><span class="p">}</span>   
<span class="n">inputResponse</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">add_input_data</span><span class="p">(</span><span class="n">datastreamId</span><span class="p">,</span> <span class="s">'csv'</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">stream</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>Input data could be of the following format:</p>
</blockquote>
<pre class="highlight plaintext"><code>  time, tag, value
  2016-03-01 01:01:01, signal1_thing1, 3.4
  2016-03-01 01:01:01, signal2_thing1, 1.4
</code></pre>
<p>csv data from a historian or time series data store can be imported into a Falkonry datastream</p>

<aside class="success">
Falkonry needs historical time series data to build pattern recognition models.
</aside>

<h2 id="extract-data-from-a-datastream">Extract data from a datastream</h2>

<p>It may help to extract all the data from an existing datastream for debug, editing, exporting to another datastream.</p>

<blockquote>
<p>To extract data from a datastream, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

<span class="c1">//Creating a datastream to add data to later</span>
  <span class="kt">string</span> <span class="n">name</span><span class="p">=</span><span class="s">"data stream name here"</span><span class="p">;</span>
  <span class="kt">var</span> <span class="n">time</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Time</span><span class="p">();</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Zone</span> <span class="p">=</span> <span class="s">"GMT"</span><span class="p">;</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Identifier</span> <span class="p">=</span> <span class="s">"time"</span><span class="p">;</span>
  <span class="n">time</span><span class="p">.</span><span class="n">Format</span> <span class="p">=</span> <span class="s">"iso_8601"</span><span class="p">;</span>
  <span class="n">Field</span> <span class="n">field</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Field</span><span class="p">();</span>
  <span class="n">Field</span><span class="p">.</span><span class="n">EntityIdentifier</span> <span class="p">=</span> <span class="s">"Unit"</span><span class="p">;</span>

<span class="n">Datasource</span> <span class="n">datasource</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Datasource</span><span class="p">();</span>
  <span class="n">datasource</span><span class="p">.</span><span class="n">type</span> <span class="p">=</span> <span class="s">"STANDALONE"</span><span class="p">;</span> 

<span class="n">DatastreamRequest</span> <span class="n">ds</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DatastreamRequest</span><span class="p">();</span>
  <span class="n">ds</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">"datastream name here"</span><span class="p">;</span>
  <span class="n">field</span><span class="p">.</span><span class="n">Time</span> <span class="p">=</span> <span class="n">time</span><span class="p">;</span>
  <span class="n">ds</span><span class="p">.</span><span class="n">Field</span> <span class="p">=</span> <span class="n">field</span><span class="p">;</span>

<span class="n">ds</span><span class="p">.</span><span class="n">dataSource</span> <span class="p">=</span> <span class="n">datasource</span><span class="p">;</span>
<span class="n">Datastream</span> <span class="n">datastream</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">createDatastream</span><span class="p">(</span><span class="n">ds</span><span class="p">);</span>

<span class="cm">/*This particular example will read data from a AddData.json file in debug folder in bin*/</span>

  <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
    <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeIdentifier"</span><span class="p">,</span> <span class="s">"time"</span><span class="p">);</span>
    <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeFormat"</span><span class="p">,</span> <span class="s">"iso_8601"</span><span class="p">);</span>

    <span class="kt">string</span> <span class="n">folder_path</span> <span class="p">=</span> <span class="n">Path</span><span class="p">.</span><span class="nf">GetDirectoryName</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Reflection</span><span class="p">.</span><span class="n">Assembly</span><span class="p">.</span><span class="nf">GetExecutingAssembly</span><span class="p">().</span><span class="n">Location</span><span class="p">);</span>

    <span class="kt">string</span> <span class="n">path</span> <span class="p">=</span> <span class="n">folder_path</span> <span class="p">+</span> <span class="s">"/AddData.json"</span><span class="p">;</span>

<span class="c1">//Alternatively, you can directly specify the folder path in the "folder_path" variable</span>

    <span class="kt">byte</span><span class="p">[]</span> <span class="n">bytes</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">File</span><span class="p">.</span><span class="nf">ReadAllBytes</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>

    <span class="n">InputStatus</span> <span class="n">inputstatus</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">addInputStream</span><span class="p">(</span><span class="n">datastream</span><span class="p">.</span><span class="n">id</span><span class="p">,</span> <span class="n">bytes</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>

<span class="c1">//The updated datastream</span>
  <span class="n">datastream</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">getDatastream</span><span class="p">(</span><span class="n">datastream</span><span class="p">.</span><span class="n">id</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code>
</code></pre><pre class="highlight python tab-python"><code>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<h2 id="delete-datastream">Delete datastream</h2>

<blockquote>
<p>To delete a datastream using its id, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>
<span class="n">falkonry</span><span class="p">.</span><span class="nf">DeleteAssessment</span><span class="p">(</span><span class="err">'</span><span class="n">assessment</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>

  <span class="n">Assessment</span> <span class="n">assesssment</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">deleteAssessment</span><span class="o">(</span><span class="err">'</span><span class="n">assessment_id</span><span class="err">'</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">datastreamId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="n">falkonry</span><span class="o">.</span><span class="n">delete_datastream</span><span class="p">(</span><span class="n">datastreamId</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<aside class="notice">
Sometimes good things come to an end as well :(!
</aside>

<h2 id="add-entitymeta-to-a-datastream">Add EntityMeta to a datastream</h2>

<blockquote>
<p>To add EntityMeta to a datastream, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

<span class="c1">// Create Datastream</span>
<span class="n">datastream</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">getDatastream</span><span class="p">(</span><span class="n">datastream</span><span class="p">.</span><span class="n">id</span><span class="p">);</span>

<span class="c1">// Create EntityMetaRequest</span>
<span class="n">List</span><span class="p">&lt;</span><span class="n">EntityMetaRequest</span><span class="p">&gt;</span> <span class="n">entityMetaRequestList</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">EntityMetaRequest</span><span class="p">&gt;();</span>
<span class="n">EntityMetaRequest</span> <span class="n">entityMetaRequest1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EntityMetaRequest</span><span class="p">();</span>
  <span class="n">entityMetaRequest1</span><span class="p">.</span><span class="n">label</span> <span class="p">=</span> <span class="s">"User readbale label"</span><span class="p">;</span>
  <span class="n">entityMetaRequest1</span><span class="p">.</span><span class="n">sourceId</span> <span class="p">=</span> <span class="s">"1234-21342134"</span><span class="p">;</span>
  <span class="n">entityMetaRequest1</span><span class="p">.</span><span class="n">path</span> <span class="p">=</span> <span class="s">"//root/branch1/"</span><span class="p">;</span>

<span class="n">EntityMetaRequest</span> <span class="n">entityMetaRequest2</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">EntityMetaRequest</span><span class="p">();</span>
  <span class="n">entityMetaRequest2</span><span class="p">.</span><span class="n">label</span> <span class="p">=</span> <span class="s">"User readbale label2"</span><span class="p">;</span>
  <span class="n">entityMetaRequest2</span><span class="p">.</span><span class="n">sourceId</span> <span class="p">=</span> <span class="s">"1234-213421rawef"</span><span class="p">;</span>
  <span class="n">entityMetaRequest2</span><span class="p">.</span><span class="n">path</span> <span class="p">=</span> <span class="s">"//root/branch2/"</span><span class="p">;</span>

<span class="n">entityMetaRequestList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">entityMetaRequest1</span><span class="p">);</span>
<span class="n">entityMetaRequestList</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">entityMetaRequest2</span><span class="p">);</span>

<span class="n">List</span><span class="p">&lt;</span><span class="n">EntityMeta</span><span class="p">&gt;</span> <span class="n">entityMetaResponseList</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">postEntityMeta</span><span class="p">(</span><span class="n">entityMetaRequestList</span><span class="p">,</span> <span class="n">datastream</span><span class="p">);</span>

</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span>   <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>
    <span class="n">String</span> <span class="n">datastreamId</span> <span class="o">=</span> <span class="s">"hk7cgt56r3yln0"</span><span class="o">;</span>
    <span class="n">datastream</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">getDatastream</span><span class="o">(</span><span class="n">datastreamId</span><span class="o">);</span>
      <span class="n">EntityMetaRequest</span> <span class="n">entityMetaRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EntityMetaRequest</span><span class="o">();</span>
      <span class="n">entityMetaRequest</span><span class="o">.</span><span class="na">setSourceId</span><span class="o">(</span><span class="s">"entity1"</span><span class="o">);</span> <span class="c1">// Entity name which you have to change</span>
      <span class="n">entityMetaRequest</span><span class="o">.</span><span class="na">setLabel</span><span class="o">(</span><span class="s">"UNIT1"</span><span class="o">);</span> <span class="c1">// New Entity name</span>
      <span class="n">entityMetaRequest</span><span class="o">.</span><span class="na">setPath</span><span class="o">(</span><span class="s">""</span><span class="o">);</span> <span class="c1">// For future use</span>
      <span class="n">entityMetaRequests</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">entityMetaRequest</span><span class="o">);</span>
      <span class="n">List</span><span class="o">&lt;</span><span class="n">EntityMeta</span><span class="o">&gt;</span> <span class="n">entityMetas</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">postEntityMeta</span><span class="o">(</span><span class="n">entityMetaRequests</span><span class="o">,</span> <span class="n">datastream</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">os</span><span class="p">,</span> <span class="n">sys</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span> <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[{</span><span class="s">"sourceId"</span><span class="p">:</span> <span class="s">"testId"</span><span class="p">,</span><span class="s">"label"</span><span class="p">:</span> <span class="s">"testName"</span><span class="p">,</span><span class="s">"path"</span><span class="p">:</span> <span class="s">"root/path"</span><span class="p">}]</span>
<span class="n">datastreamId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="n">entityMetaResponse</span> <span class="o">=</span> <span class="n">fclient</span><span class="o">.</span><span class="n">add_entity_meta</span><span class="p">(</span><span class="n">datastreamId</span><span class="p">,</span> <span class="p">{},</span> <span class="n">data</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>Input data could be of the following format:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="s2">"sourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testId"</span><span class="p">,</span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testName"</span><span class="p">,</span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root/path"</span><span class="p">}]</span><span class="w">
</span></code></pre>
<p>EntityMeta or metadata associated with assets/ elements can be injected into an existing datastream as long as they have a similar schema.</p>

<h2 id="get-entitymeta-of-a-datastream">Get EntityMeta of a datastream</h2>

<blockquote>
<p>To retrieve EntityMeta from a datastream, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>
  <span class="c1">// Get entitymeta</span>
  <span class="n">entityMetaResponseList</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">getEntityMeta</span><span class="p">(</span><span class="err">'</span><span class="n">datastream</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span>   <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">EntityMeta</span><span class="o">&gt;</span> <span class="n">entityMetas</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">getEntityMeta</span><span class="o">(</span><span class="s">"datastream_id"</span><span class="o">);</span> <span class="c1">//datastream's id</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">os</span><span class="p">,</span> <span class="n">sys</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span> <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>
<span class="n">datastreamId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="n">entityMetaResponse</span> <span class="o">=</span> <span class="n">fclient</span><span class="o">.</span><span class="n">get_entity_meta</span><span class="p">(</span><span class="n">datastreamId</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>Input data could be of the following format:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[{</span><span class="s2">"sourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testId"</span><span class="p">,</span><span class="s2">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"testName"</span><span class="p">,</span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="s2">"root/path"</span><span class="p">}]</span><span class="w">
</span></code></pre>
<p>EntityMeta or metadata associated with assets/ elements can be injected into or extracted from an existing datastream as long as they have a similar schema.</p>

<h1 id="assessments">Assessments</h1>

<p>The application of a model to signal data to produce a condition assessment is called recognition. The Falkonry Service supports real-time condition recognition on signal data.</p>

<aside class="notice">
Assessments can be re-introduced into a data store as attributes to subsequently serve as datastream elements for collective or hierarchical assessments!  
</aside>

<h2 id="create-assessment">Create Assessment</h2>

<blockquote>
<p>To create an assessment, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

<span class="n">AssessmentRequest</span> <span class="n">asmt</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">AssessmentRequest</span><span class="p">();</span>
  <span class="n">asmt</span><span class="p">.</span><span class="n">name</span> <span class="p">=</span> <span class="s">"assessment name here"</span><span class="p">;</span>
  <span class="n">asmt</span><span class="p">.</span><span class="n">datastream</span><span class="p">=</span> <span class="s">"datastream id"</span><span class="p">;</span>
  <span class="n">Assessment</span> <span class="n">assessment</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">createAssessment</span><span class="p">(</span><span class="n">asmt</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>
  <span class="kn">import</span> <span class="nn">com.falkonry.helper.models.*</span><span class="o">;</span>

  <span class="c1">//instantiate Falkonry</span>
  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>

  <span class="n">Datastream</span> <span class="n">ds</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Datastream</span><span class="o">();</span>
  <span class="n">ds</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Test-DS-"</span> <span class="o">+</span> <span class="n">Math</span><span class="o">.</span><span class="na">random</span><span class="o">());</span>
  <span class="n">TimeObject</span> <span class="n">time</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TimeObject</span><span class="o">();</span>
  <span class="n">time</span><span class="o">.</span><span class="na">setIdentifier</span><span class="o">(</span><span class="s">"time"</span><span class="o">);</span>
  <span class="n">time</span><span class="o">.</span><span class="na">setFormat</span><span class="o">(</span><span class="s">"iso_8601"</span><span class="o">);</span>
  <span class="n">time</span><span class="o">.</span><span class="na">setZone</span><span class="o">(</span><span class="s">"GMT"</span><span class="o">);</span>

  <span class="n">Field</span> <span class="n">field</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Field</span><span class="o">();</span>
  <span class="n">field</span><span class="o">.</span><span class="na">setTime</span><span class="o">(</span><span class="n">time</span><span class="o">);</span>
  <span class="n">ds</span><span class="o">.</span><span class="na">setField</span><span class="o">(</span><span class="n">field</span><span class="o">);</span>
  <span class="n">Datasource</span> <span class="n">dataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Datasource</span><span class="o">();</span>
  <span class="n">dataSource</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"PI"</span><span class="o">);</span>
  <span class="n">dataSource</span><span class="o">.</span><span class="na">sethost</span><span class="o">(</span><span class="s">"https://test.piserver.com/piwebapi"</span><span class="o">);</span>
  <span class="n">dataSource</span><span class="o">.</span><span class="na">setElementTemplateName</span><span class="o">(</span><span class="s">"SampleElementTempalte"</span><span class="o">);</span>
  <span class="n">ds</span><span class="o">.</span><span class="na">setDatasource</span><span class="o">(</span><span class="n">dataSource</span><span class="o">);</span>

  <span class="c1">// Input List</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">Input</span><span class="o">&gt;</span> <span class="n">inputList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">Input</span><span class="o">&gt;();</span>
  <span class="n">Input</span> <span class="n">currents</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Input</span><span class="o">();</span>
  <span class="n">ValueType</span> <span class="n">valueType</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ValueType</span><span class="o">();</span>
  <span class="n">EventType</span> <span class="n">eventType</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EventType</span><span class="o">();</span>
  <span class="n">currents</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"current"</span><span class="o">);</span>
  <span class="n">valueType</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Numeric"</span><span class="o">);</span>
  <span class="n">eventType</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Samples"</span><span class="o">);</span>
  <span class="n">currents</span><span class="o">.</span><span class="na">setValueType</span><span class="o">(</span><span class="n">valueType</span><span class="o">);</span>
  <span class="n">currents</span><span class="o">.</span><span class="na">setEventType</span><span class="o">(</span><span class="n">eventType</span><span class="o">);</span>
  <span class="n">inputList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">currents</span><span class="o">);</span>

  <span class="n">Input</span> <span class="n">vibration</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Input</span><span class="o">();</span>
  <span class="n">vibration</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"vibration"</span><span class="o">);</span>
  <span class="n">valueType</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Numeric"</span><span class="o">);</span>
  <span class="n">eventType</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Samples"</span><span class="o">);</span>
  <span class="n">vibration</span><span class="o">.</span><span class="na">setValueType</span><span class="o">(</span><span class="n">valueType</span><span class="o">);</span>
  <span class="n">vibration</span><span class="o">.</span><span class="na">setEventType</span><span class="o">(</span><span class="n">eventType</span><span class="o">);</span>
  <span class="n">inputList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">vibration</span><span class="o">);</span>

  <span class="n">Input</span> <span class="n">state</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Input</span><span class="o">();</span>
  <span class="n">state</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"state"</span><span class="o">);</span>
  <span class="n">valueType</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Categorical"</span><span class="o">);</span>
  <span class="n">eventType</span><span class="o">.</span><span class="na">setType</span><span class="o">(</span><span class="s">"Samples"</span><span class="o">);</span>
  <span class="n">state</span><span class="o">.</span><span class="na">setValueType</span><span class="o">(</span><span class="n">valueType</span><span class="o">);</span>
  <span class="n">state</span><span class="o">.</span><span class="na">setEventType</span><span class="o">(</span><span class="n">eventType</span><span class="o">);</span>
  <span class="n">inputList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">state</span><span class="o">);</span>

  <span class="n">ds</span><span class="o">.</span><span class="na">setInputList</span><span class="o">(</span><span class="n">inputList</span><span class="o">);</span>

  <span class="n">Datastream</span> <span class="n">datastream</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">createDatastream</span><span class="o">(</span><span class="n">ds</span><span class="o">);</span>

  <span class="n">AssessmentRequest</span> <span class="n">assessmentRequest</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AssessmentRequest</span><span class="o">();</span>
  <span class="n">assessmentRequest</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">"Health"</span><span class="o">);</span>
  <span class="n">assessmentRequest</span><span class="o">.</span><span class="na">setDatastream</span><span class="o">(</span><span class="n">datastream</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
  <span class="n">assessmentRequest</span><span class="o">.</span><span class="na">setAssessmentRate</span><span class="o">(</span><span class="s">"PT1S"</span><span class="o">);</span>
  <span class="n">Assessment</span> <span class="n">assessment</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">createAssessment</span><span class="o">(</span><span class="n">assessmentRequest</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">datastreamId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="n">asmtRequest</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">AssessmentRequest</span><span class="p">()</span>
<span class="n">asmtRequest</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">'Assessment Name'</span><span class="p">))</span>         <span class="c"># Set new assessment name</span>
<span class="n">asmtRequest</span><span class="o">.</span><span class="n">set_datastream</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">get_id</span><span class="p">())</span>    <span class="c"># Set datatsream id</span>
<span class="n">asmtRequest</span><span class="o">.</span><span class="n">set_rate</span><span class="p">(</span><span class="s">'PT0S'</span><span class="p">)</span>                     <span class="c"># Set assessment rate</span>

<span class="c"># create new assessment</span>
<span class="n">assessmentResponse</span> <span class="o">=</span> <span class="n">fclient</span><span class="o">.</span><span class="n">create_assessment</span><span class="p">(</span><span class="n">asmtRequest</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<p>Multiple assessments can exist for each datastream. An Assessment uses the data captured within a datastream to produce condition outputs.</p>

<p>Each datastream can have multiple assessments, while each assessment can have multiple models associated with it.</p>

<p>Only one of these models can be &ldquo;active&rdquo; when live monitoring is turned on.</p>

<aside class="warning">
There may be an upper limit set to the number of assessments that can be created for your account.
If you would like to request more assessments, reach out to your Falkonry Admin.
</aside>

<h2 id="retrieve-assessments">Retrieve Assessments</h2>

<blockquote>
<p>To retrieve all assessments, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>
  <span class="n">List</span><span class="p">&lt;</span><span class="n">Assessment</span><span class="p">&gt;</span> <span class="n">assessmentList</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">getAssessments</span><span class="p">();</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>

  <span class="n">List</span><span class="o">&lt;</span><span class="n">Assessment</span><span class="o">&gt;</span> <span class="n">datastreams</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">getAssessments</span><span class="o">();</span>

</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">assessmentResponse</span> <span class="o">=</span> <span class="n">fclient</span><span class="o">.</span><span class="n">get_assessments</span><span class="p">()</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"createdBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updatedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updateTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"datastream"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"live"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"factsMeasurement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"aprioriConditionList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"activeModel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"production"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<h2 id="retrieve-assessment-by-id">Retrieve Assessment by id</h2>

<blockquote>
<p>To retrieve a particular assessment bu id, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>
  <span class="n">Assessment</span> <span class="n">assessment</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">getAssessment</span><span class="p">(</span><span class="err">'</span><span class="n">assessment</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>

  <span class="n">Assessment</span> <span class="n">assesssment</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">getAssessment</span><span class="o">(</span><span class="err">'</span><span class="n">assessment_id</span><span class="err">'</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">assessmentId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>
<span class="n">assessmentResponse</span> <span class="o">=</span> <span class="n">fclient</span><span class="o">.</span><span class="n">get_assessment</span><span class="p">(</span><span class="n">assessmentId</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"sourceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tenant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"createdBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updatedBy"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"createTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"updateTime"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"datastream"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"live"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ON"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"factsMeasurement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"aprioriConditionList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"string"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"activeModel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"production"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"rate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<h2 id="delete-assessment">Delete Assessment</h2>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>
<span class="n">falkonry</span><span class="p">.</span><span class="nf">DeleteAssessment</span><span class="p">(</span><span class="err">'</span><span class="n">assessment</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>

  <span class="n">Assessment</span> <span class="n">assesssment</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">deleteAssessment</span><span class="o">(</span><span class="err">'</span><span class="n">assessment_id</span><span class="err">'</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">assessmentId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>
<span class="n">assessmentResponse</span> <span class="o">=</span> <span class="n">fclient</span><span class="o">.</span><span class="n">delete_assessment</span><span class="p">(</span><span class="n">assessmentId</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<h2 id="get-historian-output-from-assessment">Get Historian Output from Assessment</h2>

<blockquote>
<p>To retrieve historical output generated by an assessment from the historian, use this code: </p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

<span class="c1">// Create Datastream</span>

<span class="c1">// Create Assessment</span>

<span class="c1">// Add Data To dataStream</span>

<span class="c1">// From Falkonry UI, run a model revision.</span>

<span class="c1">// Fetch Historical output data for given assessment, startTime , endtime</span>
<span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"startTime"</span><span class="p">,</span> <span class="s">"2011-01-01T01:00:00.000Z"</span><span class="p">);</span> <span class="c1">// in the format YYYY-MM-DDTHH:mm:ss.SSSZ</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"endTime"</span><span class="p">,</span> <span class="s">"2011-06-01T01:00:00.000Z"</span><span class="p">);</span>  <span class="c1">// in the format YYYY-MM-DDTHH:mm:ss.SSSZ</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"responseFormat"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>  <span class="c1">// also avaibale options 1. text/csv 2. application/json</span>

<span class="n">HttpResponse</span> <span class="n">httpResponse</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">getHistoricalOutput</span><span class="p">(</span><span class="n">assessment</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
<span class="c1">// If data is not readily avaiable then, a tracker id will be sent with 202 status code. While falkonry will genrate ouptut data</span>
<span class="c1">// Client should do timely pooling on the using same method, sending tracker id (__id) in the query params</span>
<span class="c1">// Once data is avaiable server will response with 200 status code and data in json/csv format.</span>

<span class="k">if</span> <span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="n">statusCode</span> <span class="p">==</span> <span class="m">202</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">Tracker</span> <span class="n">trackerResponse</span> <span class="p">=</span> <span class="n">javascript</span><span class="p">.</span><span class="n">Deserialize</span><span class="p">&lt;</span><span class="n">Tracker</span><span class="p">&gt;(</span><span class="n">httpResponse</span><span class="p">.</span><span class="n">response</span><span class="p">);</span>
  <span class="c1">// get id from the tracker</span>
  <span class="kt">string</span> <span class="n">__id</span> <span class="p">=</span> <span class="n">trackerResponse</span><span class="p">.</span><span class="n">__id</span><span class="p">;</span>

  <span class="c1">// use this tracker for checking the status of the process.</span>
  <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"tarckerId"</span><span class="p">,</span> <span class="n">__id</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"responseFormat"</span><span class="p">,</span> <span class="s">"application/json"</span><span class="p">);</span>

  <span class="n">httpResponse</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">getHistoricalOutput</span><span class="p">(</span><span class="n">assessment</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>

  <span class="c1">// if status is 202 call the same request again</span>

  <span class="c1">// if statsu is 200, output data will be present in httpResponse.response field</span>
<span class="p">}</span>
<span class="k">if</span> <span class="p">(</span><span class="n">httpResponse</span><span class="p">.</span><span class="n">statusCode</span> <span class="p">&gt;</span> <span class="m">400</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// Some Error has occured. Please httpResponse.response for detail message</span>
<span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
  <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"startTime"</span><span class="o">,</span> <span class="s">"2011-07-17T01:00:00.000Z"</span><span class="o">);</span> <span class="c1">// in the format YYYY-MM-DDTHH:mm:ss.SSSZ</span>
  <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"endTime"</span><span class="o">,</span> <span class="s">"2011-08-18T01:00:00.000Z"</span><span class="o">);</span>  <span class="c1">// in the format YYYY-MM-DDTHH:mm:ss.SSSZ</span>
  <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"responseFormat"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">);</span>  <span class="c1">// also avaibale options 1. text/csv 2. application/json</span>

  <span class="n">assessment</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="s">"wpyred1glh6c5r"</span><span class="o">);</span>
  <span class="n">HttpResponseFormat</span> <span class="n">httpResponse</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">getHistoricalOutput</span><span class="o">(</span><span class="n">assessment_id</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">os</span><span class="p">,</span> <span class="n">sys</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="n">falkonry</span>  <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>
<span class="n">assessmentId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s">'startTime'</span><span class="p">:</span><span class="s">'2011-01-01T01:00:00.000Z'</span><span class="p">,</span><span class="s">'endTime'</span><span class="p">:</span><span class="s">'2011-06-01T01:00:00.000Z'</span><span class="p">,</span><span class="s">'responseFormat'</span><span class="p">:</span><span class="s">'application/json'</span><span class="p">}</span>

<span class="n">response</span> <span class="o">=</span> <span class="n">fclient</span><span class="o">.</span><span class="n">get_historical_output</span><span class="p">(</span><span class="n">assessment</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>

<span class="s">'''If data is not readily available then, a tracker id will be sent with 202 status code. While falkonry will genrate ouptut data
 Client should do timely pooling on the using same method, sending tracker id (__id) in the query params
 Once data is available server will response with 200 status code and data in json/csv format.'''</span>

<span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="ow">is</span> <span class="mi">202</span><span class="p">:</span>
    <span class="n">trackerResponse</span> <span class="o">=</span> <span class="n">Schemas</span><span class="o">.</span><span class="n">Tracker</span><span class="p">(</span><span class="n">tracker</span><span class="o">=</span><span class="n">response</span><span class="o">.</span><span class="n">_content</span><span class="p">)</span>
    <span class="c">#get id from the tracker</span>
    <span class="n">trackerId</span> <span class="o">=</span> <span class="n">trackerResponse</span><span class="o">.</span><span class="n">get_id</span><span class="p">()</span>
    <span class="c">#use this tracker for checking the status of the process.</span>
    <span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s">"tarckerId"</span><span class="p">:</span> <span class="n">trackerId</span><span class="p">,</span> <span class="s">"responseFormat"</span><span class="p">:</span><span class="s">"application/json"</span><span class="p">}</span>
    <span class="n">newResponse</span> <span class="o">=</span> <span class="n">fclient</span><span class="o">.</span><span class="n">get_historical_output</span><span class="p">(</span><span class="n">assessment</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
    <span class="s">'''if status is 202 call the same request again
    if status is 200, output data will be present in httpResponse.response field'''</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<h1 id="facts">Facts</h1>

<p>A fact is a known condition for a particular episode of time. Facts can come from external sources, inspection reports, or investigations. Facts data typically becomes available after events have passed.</p>

<p>Facts are associated with assessments.</p>

<p>Facts can be added from inspection logs, failure reports, user/ expert observations, event frames within a historian, etc </p>

<h2 id="add-facts-data-json-to-assessment">Add facts data (json) to Assessment</h2>

<blockquote>
<p>To add more facts to your assessment, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>
<span class="n">String</span> <span class="n">data</span> <span class="p">=</span> <span class="s">"{\"time\" : \"2011-03-26T12:00:00Z\", \"entities\" : \"entity1\", \"end\" : \"2012-06-01T00:00:00Z\", \"Health\" : \"Normal\"}"</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">response</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">addFacts</span><span class="p">(</span><span class="err">'</span><span class="n">assessment</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">,</span><span class="n">data</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>

  <span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"{\"time\" : \"2011-03-26T12:00:00Z\", \"entities\" : \"entity1\", \"end\" : \"2012-06-01T00:00:00Z\", \"Health\" : \"Normal\"}"</span><span class="o">;</span>
  <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">addfacts</span><span class="o">(</span><span class="n">assessment</span><span class="o">.</span><span class="na">getId</span><span class="o">(),</span><span class="n">data</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>      <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>
<span class="n">assessmentId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>
<span class="n">data</span>          <span class="o">=</span> <span class="s">'{"time" : "2011-03-26T12:00:00Z", "car" : "HI3821", "end" : "2012-06-01T00:00:00Z", "Health" : "Normal"}'</span>
<span class="n">inputResponse</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">add_verification</span><span class="p">(</span><span class="n">assessmentId</span><span class="p">,</span> <span class="s">'json'</span><span class="p">,</span> <span class="p">{},</span> <span class="n">data</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"schema"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"valueType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"dimensionList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<h2 id="add-facts-data-csv-to-assessment">Add facts data (csv) to Assessment</h2>

<blockquote>
<p>To add facts from a csv file, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span> <span class="p">=</span> <span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>
<span class="kt">string</span> <span class="n">data</span> <span class="p">=</span> <span class="s">"time,end,car,Health\n2011-03-31T00:00:00Z,2011-04-01T00:00:00Z,IL9753,Normal\n2011-03-31T00:00:00Z,2011-04-01T00:00:00Z,HI3821,Normal"</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">response</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">addFacts</span><span class="p">(</span><span class="err">'</span><span class="n">assessment</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">,</span><span class="n">data</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code>  <span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>

  <span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"time,end,car,Health\n2011-03-31T00:00:00Z,2011-04-01T00:00:00Z,IL9753,Normal\n2011-03-31T00:00:00Z,2011-04-01T00:00:00Z,HI3821,Normal"</span><span class="o">;</span>
  <span class="n">String</span> <span class="n">response</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">addFacts</span><span class="o">(</span><span class="n">assessment</span><span class="o">.</span><span class="na">getId</span><span class="o">(),</span><span class="n">data</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>      <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>
<span class="n">assessmentId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>
<span class="n">data</span>          <span class="o">=</span> <span class="s">'time,car,end,Health'</span> <span class="o">+</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
                 <span class="o">+</span> <span class="s">'2011-03-26T12:00:00Z,HI3821,2012-06-01T00:00:00Z,Normal'</span> <span class="o">+</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
                 <span class="o">+</span> <span class="s">'2014-02-10T23:00:00Z,HI3821,2014-03-20T12:00:00Z,Spalling'</span><span class="p">;</span>

<span class="n">inputResponse</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">add_facts</span><span class="p">(</span><span class="n">assessmentId</span><span class="p">,</span> <span class="s">'csv'</span><span class="p">,</span> <span class="p">{},</span> <span class="n">data</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"schema"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"valueType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"string"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"dimensionList"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"string"</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Often, facts and machine/ asset state are captured in spreadsheets. </p>

<p>Use this to inject csv format facts into an assessment.</p>

<aside class="notice">
Adding more facts (ground truths) helps improve model accuracy and hence the usefulness of an assessment.
</aside>aside>

## Add facts data (json) from a stream to Assessment

> To add facts in json format from an input stream, use this code:

&ldquo;`csharp
using falkonry_csharp_client;
using falkonry_csharp_client.helper.models;

string token=&quot;Add your token here&rdquo;;   
Falkonry falkonry = new Falkonry(&ldquo;http://localhost:8080&rdquo;, token);
string path = &ldquo;Insert the path to your file here&rdquo;;
byte[] bytes = System.IO.File.ReadAllBytes(path);
string response = falkonry.AddFactsStream(&lsquo;assessment-id&rsquo;,bytes, options);
&ldquo;`


&rdquo;`java
  import com.falkonry.client.Falkonry;
  import org.apache.commons.io.FileUtils;

  Falkonry falkonry   = new Falkonry(&ldquo;https://sandbox.falkonry.ai&rdquo;, &ldquo;auth-token&rdquo;);
  File file = new File(&ldquo;res/factsData.json&rdquo;);      
  ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(FileUtils.readFileToByteArray(file));
  String response = falkonry.addFactsStream(assessment.getId(),byteArrayInputStream, options);
&ldquo;`

&rdquo;`python
import os, sys
from falkonryclient import client as Falkonry
from falkonryclient import schemas as Schemas

falkonry = Falkonry(&lsquo;https://sandbox.falkonry.ai&rsquo;, &lsquo;auth-token&rsquo;)
assessmentId = &lsquo;id of the datastream&rsquo;
stream   = io.open(&lsquo;./data.json&rsquo;)

response = falkonry.add_facts_stream(assessmentId, &lsquo;json&rsquo;, {}, stream)
&ldquo;`

&rdquo;`shell

&ldquo;`
> The above command returns JSON structured like this:

&rdquo;`json
{
  &ldquo;schema&rdquo;: [
    {
      &ldquo;id&rdquo;: &ldquo;string&rdquo;,
      &ldquo;name&rdquo;: &ldquo;string&rdquo;,
      &ldquo;valueType&rdquo;: &ldquo;string&rdquo;,
      &ldquo;dimensionList&rdquo;: [
        &ldquo;string&rdquo;
      ],
      &ldquo;tags&rdquo;: [
        &ldquo;string&rdquo;
      ]
    }
  ]
}
&ldquo;`

If facts are created from another application, they are often exported in json format.

<aside class="notice">
Adding more facts (ground truths) helps improve model accuracy and hence the usefulness of an assessment.
</aside>aside>

## Add facts data (csv) from a stream to Assessment

> To add facts in csv format from an input stream, use this code:

&rdquo;`csharp
using falkonry_csharp_client;
using falkonry_csharp_client.helper.models;

string token=&ldquo;Add your token here&rdquo;;   
Falkonry falkonry = new Falkonry(&ldquo;http://localhost:8080&rdquo;, token);
string path = &ldquo;Insert the path to your file here&rdquo;;
byte[] bytes = System.IO.File.ReadAllBytes(path);
string response = falkonry.AddFactsStream(&lsquo;assessment-id&rsquo;,bytes, options);
&ldquo;`


&rdquo;`java
  import com.falkonry.client.Falkonry;
  import org.apache.commons.io.FileUtils;

  Falkonry falkonry   = new Falkonry(&ldquo;https://sandbox.falkonry.ai&rdquo;, &ldquo;auth-token&rdquo;);
  File file = new File(&ldquo;res/factsData.csv&rdquo;);      
  ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(FileUtils.readFileToByteArray(file));
  String response = falkonry.addFactsStream(assessment.getId(),byteArrayInputStream, options);
&ldquo;`

&rdquo;`python
import os, sys
from falkonryclient import client as Falkonry
from falkonryclient import schemas as Schemas

falkonry = Falkonry(&lsquo;https://sandbox.falkonry.ai&rsquo;, &lsquo;auth-token&rsquo;)
assessmentId = &lsquo;id of the datastream&rsquo;
stream   = io.open(&lsquo;./data.csv&rsquo;)

response = falkonry.add_facts_stream(assessmentId, &lsquo;csv&rsquo;, {}, stream)
&ldquo;`

&rdquo;`shell

&ldquo;`

> The above command returns JSON structured like this:

&rdquo;`json
{
  &ldquo;schema&rdquo;: [
    {
      &ldquo;id&rdquo;: &ldquo;string&rdquo;,
      &ldquo;name&rdquo;: &ldquo;string&rdquo;,
      &ldquo;valueType&rdquo;: &ldquo;string&rdquo;,
      &ldquo;dimensionList&rdquo;: [
        &ldquo;string&rdquo;
      ],
      &ldquo;tags&rdquo;: [
        &ldquo;string&rdquo;
      ]
    }
  ]
}
&ldquo;`

Often, facts and machine/ asset state are captured in spreadsheets. 

Use this to inject csv format facts into an assessment.

<aside class="notice">
Adding more facts (ground truths) helps improve model accuracy and hence the usefulness of an assessment.
</aside>aside>


# Live Monitoring

After a model revision has been trained, a user may want to switch to live monitoring to evaluate patterns in real-time.

Any model revision can be selected to be the basis of live monitoring. Falkonry will assign conditions to multi-variate patterns based on the signals that were used to create the model revision.


## Start live monitoring of datastream

> To turn live monitoring on for a datastream, use this code:

&rdquo;`csharp
using falkonry_csharp_client;
using falkonry_csharp_client.helper.models;

string token=&ldquo;Add your token here&rdquo;;   
Falkonry falkonry = new Falkonry(&ldquo;http://localhost:8080&rdquo;, token);
  string datastream_id = &ldquo;Your datastream id&rdquo;;
  falkonry.onDatastream(datastream_id);
&ldquo;`

&rdquo;`java
  import com.falkonry.client.Falkonry;

  Falkonry falkonry   = new Falkonry(&ldquo;https://sandbox.falkonry.ai&rdquo;, &ldquo;auth-token&rdquo;);
  String datastreamId = &ldquo;hk7cgt56r3yln0&rdquo;;
  List<Assessment> liveAssessments = falkonry.onDatastream(datastreamId);
&ldquo;`

&rdquo;`python
import os, sys
from falkonryclient import client as Falkonry
from falkonryclient import schemas as Schemas

falkonry  = Falkonry(&lsquo;https://sandbox.falkonry.ai&rsquo;, &lsquo;auth-token&rsquo;)
datastreamId = &lsquo;id of the datastream&rsquo;

# Starts live monitoring of datastream. For live monitoring datastream must have atleast one assessment with active model. 
response = falkonry.on_datastream(datastreamId)
&ldquo;`

&rdquo;`shell

&ldquo;`

Live monitoring is associated with the entire datastream. At this point each assessment assciated with the datastream goes into live monitoring.

Every assessment has an &quot;active&rdquo; model associated with it.

<aside class="notice">
Live monitoring can be turned &ldquo;on&rdquo; from the Falkonry Professional UI but you can do the same from any of these development kits.
</aside>aside>

## Stop live monitoring of datastream

> To turn live monitoring off for a datastream, use this code:

&ldquo;`csharp
using falkonry_csharp_client;
using falkonry_csharp_client.helper.models;

string token=&quot;Add your token here&rdquo;;   
Falkonry falkonry = new Falkonry(&ldquo;http://localhost:8080&rdquo;, token);
  string datastream_id = &ldquo;Your datastream id&rdquo;;
  falkonry.offDatastream(datastream_id);
&ldquo;`


&rdquo;`java
  import com.falkonry.client.Falkonry;

  Falkonry falkonry   = new Falkonry(&ldquo;https://sandbox.falkonry.ai&rdquo;, &ldquo;auth-token&rdquo;);
  String datastreamId = &ldquo;hk7cgt56r3yln0&rdquo;;
  List<Assessment> assessments = falkonry.offDatastream(datastreamId);
&ldquo;`

&rdquo;`python
import os, sys
from falkonryclient import client as Falkonry
from falkonryclient import schemas as Schemas

falkonry  = Falkonry(&lsquo;https://sandbox.falkonry.ai&rsquo;, &lsquo;auth-token&rsquo;)
datastreamId = &lsquo;id of the datastream&rsquo;

# Stops live monitoring of datastream.
response = falkonry.off_datastream(datastreamId)
&ldquo;`

&rdquo;`shell

&ldquo;`

<aside class="notice">
Live monitoring can be turned &quot;on&rdquo; from the Falkonry Professional UI but you can do the same from any of these development kits.
</aside>aside>


## Add live input data (json) to datastream

> To inject live input data in json format into the datastream, use this code:


&ldquo;`csharp
using falkonry_csharp_client;
using falkonry_csharp_client.helper.models;

string token=&quot;Add your token here&rdquo;;   
Falkonry falkonry = new Falkonry(&ldquo;http://localhost:8080&rdquo;, token);

string data = &ldquo;{"time" :"2016-03-01 01:01:01", "current" : 12.4, "vibration" : 3.4, "state" : "On"}&rdquo;;

SortedDictionary<string, string> options = new SortedDictionary<string, string>();
  options.Add(&ldquo;timeIdentifier&rdquo;, &ldquo;time&rdquo;);
  options.Add(&ldquo;timeFormat&rdquo;, &ldquo;iso_8601&rdquo;);
  options.Add(&ldquo;fileFormat&rdquo;, &ldquo;json&rdquo;);
  options.Add(&ldquo;streaming&rdquo;, &ldquo;true&rdquo;);
  options.Add(&ldquo;hasMoreData&rdquo;, &ldquo;false&rdquo;);
  InputStatus inputstatus = falkonry.addInput(&lsquo;datastream-id&rsquo;, data, options);
&ldquo;`


&rdquo;`java
import com.falkonry.client.Falkonry;
import com.falkonry.helper.models.Datasource;
import com.falkonry.helper.models.Datastream;
import com.falkonry.helper.models.Field;
import com.falkonry.helper.models.TimeObject;
import com.falkonry.helper.models.Signal;

  //instantiate Falkonry
  Falkonry falkonry = new Falkonry(&ldquo;https://sandbox.falkonry.ai&rdquo;, &ldquo;auth-token&rdquo;);
  //Add data to datastream
  String data = &ldquo;{"time" : "2016-03-01 01:01:01", "tag" : "signal1", "value" : 3.4}&rdquo; + &ldquo;\n&rdquo;
      + &ldquo;{"time" : "2016-03-01 01:01:02", "tag" : "signal2", "value" : 9.3}&rdquo;;

  Map<String, String> options = new HashMap<String, String>();
    options.put(&ldquo;timeIdentifier&rdquo;, &ldquo;time&rdquo;);
    options.put(&ldquo;timeFormat&rdquo;, &ldquo;iso_8601&rdquo;);
    options.put(&ldquo;fileFormat&rdquo;, &ldquo;csv&rdquo;);
    options.put(&ldquo;streaming&rdquo;, &ldquo;true&rdquo;);
    options.put(&ldquo;hasMoreData&rdquo;, &ldquo;false&rdquo;);
    falkonry.addInput(&lsquo;datastream-Id&rsquo;, data, options);
&ldquo;`

&rdquo;`python
from falkonryclient import client as Falkonry
from falkonryclient import schemas as Schemas

#instantiate Falkonry
falkonry   = Falkonry(&lsquo;https://sandbox.falkonry.ai&rsquo;, &lsquo;auth-token&rsquo;)

datastreamId = &lsquo;id of the datastream&rsquo;

#add data to Datastream
String data = &ldquo;{"time" : "2016-03-01 01:01:01", "tag" : "signal1_thing1", "value" : 3.4}&rdquo; + &ldquo;\n&rdquo;
        + &ldquo;{"time" : "2016-03-01 01:01:01", "tag" : "signal2_thing1", "value" : 1.4}&rdquo; + &ldquo;\n&rdquo;
        + &ldquo;{"time" : "2016-03-01 01:01:02", "tag" : "signal1_thing1", "value" : 9.3}&rdquo; + &ldquo;\n&rdquo;
        + &ldquo;{"time" : "2016-03-01 01:01:02", "tag" : "signal2_thing2", "value" : 4.3}&rdquo;;
        
options = {&lsquo;streaming&rsquo;: True}   
inputResponse = falkonry.add_input_data(datastreamId, &lsquo;json&rsquo;, options, data)
&ldquo;`

&rdquo;`shell

&ldquo;`
When in live monitoring, the assessment is being computed based on live data that is streaming in, but based on the model that was built using historical data.

<aside class="warning">
When working from within the Falkonry Professional UI, make sure &quot;Accepting Data&rdquo; in turned on before starting &ldquo;Live Monitoring&rdquo;
</aside>

<h2 id="add-live-data-csv-to-datastream">Add live data (csv) to datastream</h2>

<blockquote>
<p>To inject live input data in csv format into the datastream, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">data</span> <span class="p">=</span> <span class="s">"time, entities, signal1, signal2, signal3, signal4"</span> <span class="p">+</span> <span class="s">"\n"</span>
      <span class="p">+</span> <span class="s">"1467729675422, entity1, 41.11, 62.34, 77.63, 4.8"</span> <span class="p">+</span> <span class="s">"\n"</span>
      <span class="p">+</span> <span class="s">"1467729675445, entity1, 43.91, 82.64, 73.63, 3.8"</span><span class="p">;</span>

<span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeIdentifier"</span><span class="p">,</span> <span class="s">"time"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeFormat"</span><span class="p">,</span> <span class="s">"iso_8601"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"fileFormat"</span><span class="p">,</span> <span class="s">"csv"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"streaming"</span><span class="p">,</span> <span class="s">"true"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"hasMoreData"</span><span class="p">,</span> <span class="s">"false"</span><span class="p">);</span>
  <span class="n">InputStatus</span> <span class="n">inputstatus</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">addInput</span><span class="p">(</span><span class="err">'</span><span class="n">datastream</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datasource</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Datastream</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Field</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.TimeObject</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.falkonry.helper.models.Signal</span><span class="o">;</span>

<span class="c1">//instantiate Falkonry</span>
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>
<span class="c1">//Add data to datastream</span>
  <span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"time, entities, signal1, signal2, signal3, signal4"</span> <span class="o">+</span> <span class="s">"\n"</span>
      <span class="o">+</span> <span class="s">"1467729675422, entity1, 41.11, 62.34, 77.63, 4.8"</span> <span class="o">+</span> <span class="s">"\n"</span>
      <span class="o">+</span> <span class="s">"1467729675445, entity1, 43.91, 82.64, 73.63, 3.8"</span><span class="o">;</span>
  <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeIdentifier"</span><span class="o">,</span> <span class="s">"time"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeFormat"</span><span class="o">,</span> <span class="s">"millis"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fileFormat"</span><span class="o">,</span> <span class="s">"csv"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"streaming"</span><span class="o">,</span> <span class="s">"true"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"hasMoreData"</span><span class="o">,</span> <span class="s">"false"</span><span class="o">);</span>
    <span class="n">falkonry</span><span class="o">.</span><span class="na">addInput</span><span class="o">(</span><span class="err">'</span><span class="n">datastream</span><span class="o">-</span><span class="n">Id</span><span class="err">'</span><span class="o">,</span> <span class="n">data</span><span class="o">,</span> <span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">datastreamId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="c">#add data to Datastream</span>
<span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="s">"time, tag, value "</span> <span class="o">+</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
        <span class="o">+</span> <span class="s">"2016-03-01 01:01:01, signal1_thing1, 3.4"</span> <span class="o">+</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span>
        <span class="o">+</span> <span class="s">"2016-03-01 01:01:01, signal2_thing1, 1.4"</span><span class="p">;</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s">'streaming'</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>   
<span class="n">inputResponse</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">add_input_data</span><span class="p">(</span><span class="n">datastreamId</span><span class="p">,</span> <span class="s">'csv'</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<p>When in live monitoring, the assessment is being computed based on live data that is streaming in, but based on the model that was built using historical data.</p>

<aside class="warning">
When working from within the Falkonry Professional UI, make sure &ldquo;Accepting Data&rdquo; in turned on before starting &ldquo;Live Monitoring&rdquo;
</aside>

<h2 id="add-live-data-json-from-stream-to-datastream">Add live data (json) from stream to datastream</h2>

<blockquote>
<p>To inject live input stream data in json format into the datastream, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

<span class="cm">/*This particular example will read data from a AddData.json file in debug folder in bin*/</span>

<span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeIdentifier"</span><span class="p">,</span> <span class="s">"time"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeFormat"</span><span class="p">,</span> <span class="s">"iso_8601"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"streaming"</span><span class="p">,</span> <span class="s">"true"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"hasMoreData"</span><span class="p">,</span> <span class="s">"false"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"fileFormat"</span><span class="p">,</span> <span class="s">"json"</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">folder_path</span> <span class="p">=</span> <span class="n">Path</span><span class="p">.</span><span class="nf">GetDirectoryName</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Reflection</span><span class="p">.</span><span class="n">Assembly</span><span class="p">.</span><span class="nf">GetExecutingAssembly</span><span class="p">().</span><span class="n">Location</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">path</span> <span class="p">=</span> <span class="n">folder_path</span> <span class="p">+</span> <span class="s">"/AddData.json"</span><span class="p">;</span>
<span class="c1">//Alternatively, you can directly specify the folder path in the "folder_path" variable</span>

<span class="kt">byte</span><span class="p">[]</span> <span class="n">bytes</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">File</span><span class="p">.</span><span class="nf">ReadAllBytes</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>

<span class="n">InputStatus</span> <span class="n">inputstatus</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">addInputStream</span><span class="p">(</span><span class="err">'</span><span class="n">datastream</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">,</span> <span class="n">bytes</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>

</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.io.FileUtils</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span>   <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>
  <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeIdentifier"</span><span class="o">,</span> <span class="s">"time"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeFormat"</span><span class="o">,</span> <span class="s">"millis"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fileFormat"</span><span class="o">,</span> <span class="s">"csv"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"streaming"</span><span class="o">,</span> <span class="s">"true"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"hasMoreData"</span><span class="o">,</span> <span class="s">"false"</span><span class="o">);</span>

    <span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"tmp/data.json"</span><span class="o">);</span>      
      <span class="n">ByteArrayInputStream</span> <span class="n">istream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ByteArrayInputStream</span><span class="o">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="na">readFileToByteArray</span><span class="o">(</span><span class="n">file</span><span class="o">));</span>

      <span class="n">InputStatus</span> <span class="n">inputStatus</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">addInputStream</span><span class="o">(</span><span class="err">'</span><span class="n">datastream</span><span class="o">-</span><span class="n">Id</span><span class="err">'</span><span class="o">,</span><span class="n">byteArrayInputStream</span><span class="o">,</span><span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">datastreamId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="c">#add data to Datastream</span>
<span class="n">stream</span>   <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="nb">open</span><span class="p">(</span><span class="s">'./data.json'</span><span class="p">)</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s">'streaming'</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span> <span class="s">'hasMoreData'</span><span class="p">:</span><span class="bp">False</span><span class="p">}</span>   
<span class="n">inputResponse</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">add_input_data</span><span class="p">(</span><span class="n">datastreamId</span><span class="p">,</span> <span class="s">'json'</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">stream</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<p>When in live monitoring, the assessment is being computed based on live data that is streaming in, but based on the model that was built using historical data.</p>

<aside class="warning">
When working from within the Falkonry Professional UI, make sure &ldquo;Accepting Data&rdquo; in turned on before starting &ldquo;Live Monitoring&rdquo;
</aside>

<h2 id="add-live-data-csv-from-stream-to-datastream">Add live data (csv) from stream to datastream</h2>

<blockquote>
<p>To inject live input stream data in csv format into the datastream, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

<span class="cm">/*This particular example will read data from a AddData.json file in debug folder in bin*/</span>

<span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">options</span> <span class="p">=</span> <span class="k">new</span> <span class="n">SortedDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;();</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeIdentifier"</span><span class="p">,</span> <span class="s">"time"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"timeFormat"</span><span class="p">,</span> <span class="s">"iso_8601"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"streaming"</span><span class="p">,</span> <span class="s">"false"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"hasMoreData"</span><span class="p">,</span> <span class="s">"false"</span><span class="p">);</span>
  <span class="n">options</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"fileFormat"</span><span class="p">,</span> <span class="s">"csv"</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">folder_path</span> <span class="p">=</span> <span class="n">Path</span><span class="p">.</span><span class="nf">GetDirectoryName</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Reflection</span><span class="p">.</span><span class="n">Assembly</span><span class="p">.</span><span class="nf">GetExecutingAssembly</span><span class="p">().</span><span class="n">Location</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">path</span> <span class="p">=</span> <span class="n">folder_path</span> <span class="p">+</span> <span class="s">"/AddData.csv"</span><span class="p">;</span>
<span class="c1">//Alternatively, you can directly specify the folder path in the "folder_path" variable</span>

<span class="kt">byte</span><span class="p">[]</span> <span class="n">bytes</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">File</span><span class="p">.</span><span class="nf">ReadAllBytes</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>

<span class="n">InputStatus</span> <span class="n">inputstatus</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">addInputStream</span><span class="p">(</span><span class="err">'</span><span class="n">datastream</span><span class="p">-</span><span class="n">id</span><span class="err">'</span><span class="p">,</span> <span class="n">bytes</span><span class="p">,</span> <span class="n">options</span><span class="p">);</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span>
<span class="kn">import</span> <span class="nn">org.apache.commons.io.FileUtils</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span>   <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>
  <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
  <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">options</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;();</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeIdentifier"</span><span class="o">,</span> <span class="s">"time"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"timeFormat"</span><span class="o">,</span> <span class="s">"millis"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"fileFormat"</span><span class="o">,</span> <span class="s">"csv"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"streaming"</span><span class="o">,</span> <span class="s">"true"</span><span class="o">);</span>
    <span class="n">options</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"hasMoreData"</span><span class="o">,</span> <span class="s">"false"</span><span class="o">);</span>

    <span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"tmp/data.csv"</span><span class="o">);</span>     
      <span class="n">ByteArrayInputStream</span> <span class="n">istream</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ByteArrayInputStream</span><span class="o">(</span><span class="n">FileUtils</span><span class="o">.</span><span class="na">readFileToByteArray</span><span class="o">(</span><span class="n">file</span><span class="o">));</span>

      <span class="n">InputStatus</span> <span class="n">inputStatus</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">addInputStream</span><span class="o">(</span><span class="err">'</span><span class="n">datastream</span><span class="o">-</span><span class="n">Id</span><span class="err">'</span><span class="o">,</span><span class="n">byteArrayInputStream</span><span class="o">,</span><span class="n">options</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="c">#instantiate Falkonry</span>
<span class="n">falkonry</span>   <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>

<span class="n">datastreamId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>

<span class="c">#add data to Datastream</span>
<span class="n">stream</span>   <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="nb">open</span><span class="p">(</span><span class="s">'./data.csv'</span><span class="p">)</span>

<span class="n">options</span> <span class="o">=</span> <span class="p">{</span><span class="s">'streaming'</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>   
<span class="n">inputResponse</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">add_input_data</span><span class="p">(</span><span class="n">datastreamId</span><span class="p">,</span> <span class="s">'csv'</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">stream</span><span class="p">)</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<p>When in live monitoring, the assessment is being computed based on live data that is streaming in, but based on the model that was built using historical data.</p>

<aside class="warning">
When working from within the Falkonry Professional UI, make sure &ldquo;Accepting Data&rdquo; in turned on before starting &ldquo;Live Monitoring&rdquo;
</aside>

<h2 id="get-streaming-output">Get Streaming Output</h2>

<blockquote>
<p>To retrieve live streaming assessment output, use this code:</p>
</blockquote>
<pre class="highlight csharp tab-csharp"><code><span class="k">using</span> <span class="nn">falkonry_csharp_client</span><span class="p">;</span>
<span class="k">using</span> <span class="nn">falkonry_csharp_client.helper.models</span><span class="p">;</span>

<span class="kt">string</span> <span class="n">token</span><span class="p">=</span><span class="s">"Add your token here"</span><span class="p">;</span>   
<span class="n">Falkonry</span> <span class="n">falkonry</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Falkonry</span><span class="p">(</span><span class="s">"http://localhost:8080"</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">assessment_id</span> <span class="p">=</span><span class="s">"assessment ID here"</span><span class="p">;</span>
<span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">Stream</span> <span class="n">streamrecieved</span> <span class="p">=</span> <span class="n">falkonry</span><span class="p">.</span><span class="nf">getOutput</span><span class="p">(</span><span class="n">assessment_id</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
<span class="c1">//The folder path below by default is debug in bin.</span>
<span class="kt">string</span> <span class="n">folder_path</span> <span class="p">=</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">Path</span><span class="p">.</span><span class="nf">GetDirectoryName</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="n">Reflection</span><span class="p">.</span><span class="n">Assembly</span><span class="p">.</span><span class="nf">GetExecutingAssembly</span><span class="p">().</span><span class="n">Location</span><span class="p">);</span>
<span class="c1">//Alternatively, you can also specify the path of the folder in thr folder_path variable</span>
<span class="c1">//The outflow will get saved in an outflow.txt file there</span>
<span class="kt">string</span> <span class="n">path</span> <span class="p">=</span> <span class="n">folder_path</span> <span class="p">+</span> <span class="s">"/outflow.txt"</span><span class="p">;</span>

<span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamReader</span> <span class="n">streamreader</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="nf">StreamReader</span><span class="p">(</span><span class="n">streamrecieved</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="n">StreamWriter</span> <span class="n">streamwriter</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="n">IO</span><span class="p">.</span><span class="nf">StreamWriter</span><span class="p">(</span><span class="n">path</span><span class="p">);</span>
  <span class="kt">string</span> <span class="n">line</span><span class="p">;</span>
    <span class="k">using</span> <span class="p">(</span><span class="n">streamwriter</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">while</span> <span class="p">((</span><span class="n">line</span> <span class="p">=</span> <span class="n">streamreader</span><span class="p">.</span><span class="nf">ReadLine</span><span class="p">())</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">streamwriter</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">line</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
</code></pre><pre class="highlight java tab-java"><code><span class="kn">import</span> <span class="nn">com.falkonry.client.Falkonry</span><span class="o">;</span>

  <span class="n">Falkonry</span> <span class="n">falkonry</span>   <span class="o">=</span> <span class="k">new</span> <span class="n">Falkonry</span><span class="o">(</span><span class="s">"https://sandbox.falkonry.ai"</span><span class="o">,</span> <span class="s">"auth-token"</span><span class="o">);</span>
    <span class="n">String</span> <span class="n">assessment</span> <span class="o">=</span> <span class="s">"wpyred1glh6c5r"</span><span class="o">;</span>
    <span class="n">BufferedReader</span> <span class="n">outputBuffer</span><span class="o">;</span>
    <span class="n">outputBuffer</span> <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="na">getOutput</span><span class="o">(</span><span class="n">assessment</span><span class="o">);</span>
</code></pre><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">os</span><span class="p">,</span> <span class="n">sys</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">client</span> <span class="k">as</span> <span class="n">Falkonry</span>
<span class="kn">from</span> <span class="nn">falkonryclient</span> <span class="kn">import</span> <span class="n">schemas</span> <span class="k">as</span> <span class="n">Schemas</span>

<span class="n">falkonry</span>  <span class="o">=</span> <span class="n">Falkonry</span><span class="p">(</span><span class="s">'https://sandbox.falkonry.ai'</span><span class="p">,</span> <span class="s">'auth-token'</span><span class="p">)</span>
<span class="n">assessmentId</span> <span class="o">=</span> <span class="s">'id of the datastream'</span>
<span class="n">stream</span>    <span class="o">=</span> <span class="n">falkonry</span><span class="o">.</span><span class="n">get_output</span><span class="p">(</span><span class="n">assessmentId</span><span class="p">)</span>
<span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="n">stream</span><span class="o">.</span><span class="n">events</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">event</span><span class="o">.</span><span class="n">data</span><span class="p">)))</span>
</code></pre><pre class="highlight shell tab-shell"><code>
</code></pre>
<p>Assessments in live monitoring mode can be streamed out to suggest real time machine/ asset condition/ state.</p>

<!--  -->

          <h1 id="errors">Errors</h1>

<p>Here is a reference for some standard HTTP error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request &ndash; Your request sucks</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized &ndash; Your API key is wrong</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden &ndash; The assessment/ datastream requested is hidden for administrators only</td>
</tr>
<tr>
<td>404</td>
<td>Not Found &ndash; The specified datastream/ assessment could not be found</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed &ndash; You tried to access a datastream with an invalid method</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable &ndash; You requested a format that isn&rsquo;t json</td>
</tr>
<tr>
<td>410</td>
<td>Gone &ndash; The datastream requested has been removed from our servers</td>
</tr>
<tr>
<td>418</td>
<td>I&rsquo;m a teapot</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests &ndash; You&rsquo;re requesting too many datastreams! Slow down!</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error &ndash; We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable &ndash; We&rsquo;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="csharp">csharp</a>
                <a href="#" data-language-name="java">java</a>
                <a href="#" data-language-name="python">python</a>
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>
  </body>
</html>
